(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"01f7":function(t,e,s){"use strict";var a=s("c261"),i=s.n(a);i.a},"03d5":function(t,e,s){},"0ed7":function(t,e,s){},"2a75":function(t,e,s){},3050:function(t,e,s){"use strict";var a=s("0ed7"),i=s.n(a);i.a},"36d9":function(t,e,s){"use strict";var a=s("3d78"),i=s.n(a);i.a},"3d78":function(t,e,s){},"3eb7":function(t,e,s){"use strict";var a=s("8fbc"),i=s.n(a);i.a},4134:function(t,e,s){},"450a":function(t,e,s){},"4c7f":function(t,e,s){},5598:function(t,e,s){},6659:function(t,e,s){"use strict";var a=s("4c7f"),i=s.n(a);i.a},"67ca":function(t,e,s){},"6ad6":function(t,e,s){},"6cfa":function(t,e,s){"use strict";var a=s("c882"),i=s.n(a);i.a},"6e21":function(t,e,s){"use strict";var a=s("f6d0"),i=s.n(a);i.a},"6f83":function(t,e,s){"use strict";var a=s("f1b2"),i=s.n(a);i.a},"713b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{ref:"layout",staticStyle:{background:"#000"},attrs:{view:"lHr lpR fFf"}},[a("svg",{attrs:{id:"bg"}}),a("router-link",{staticClass:"q-ml-sm float-left logo",staticStyle:{display:"block","margin-top":"8px"},attrs:{to:"/"}},[a("img",{class:{"mobile-logo":t.$q.screen.lt.sm},staticStyle:{width:"150px"},attrs:{src:s("9436")}})]),a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.reveal?a("div",[a("q-header",{staticClass:"bg-none",class:{"mobile-header":!t.$q.platform.is.desktop},attrs:{reveal:""}},[a("q-toolbar",[a("q-toolbar-title",{staticClass:"q-mt-xs flex items-center"},[a("q-btn",{staticClass:"float-left",style:{marginTop:t.$q.platform.is.desktop?"8px":"0"},attrs:{icon:"fas fa-bars",dense:"",round:"",unelevated:"",color:"white","text-color":"black",size:t.$q.platform.is.desktop?"18px":"16px"},on:{click:function(e){t.left=!t.left}}}),a("div",{staticClass:"breadcrumb",class:{"mobile-breadcrumb":!t.$q.platform.is.desktop}},[a("q-icon",{staticClass:"bg-white map-marked",class:{"mobile-map-marked":!t.$q.platform.is.desktop},attrs:{name:"fas fa-map-marker-alt",size:t.$q.platform.is.desktop?"30px":"16px",color:"black"}}),a("router-link",{staticClass:"link text-black",attrs:{to:"/dashboard"}},[t._v("Hypha DHO")]),t._l(t.breadcrumbs,(function(e){return a("div",{staticClass:"location"},[t._v("Â / "+t._s(e.title))])}))],2)],1),a("right-menu-guest"),a("right-menu-authenticated")],1)],1),a("q-drawer",{attrs:{bordered:""},model:{value:t.left,callback:function(e){t.left=e},expression:"left"}},[a("left-menu",{on:{close:function(e){t.left=!1}}})],1),a("right-sidebar")],1):t._e()]),a("q-page-container",[a("router-view")],1)],1)},i=[],o=(s("e6cf"),s("ded3")),r=s.n(o),l=s("2f62"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isAuthenticated?t._e():s("div",{staticClass:"flex items-center",style:{marginTop:t.$q.platform.is.desktop?"0":"2px"}},[s("q-input",{ref:"search",staticClass:"search",class:{"search-expanded":t.searchExpanded,"search-collapsed":!t.searchExpanded},attrs:{value:t.searchInput,placeholder:"Search",rounded:"",outlined:"","bg-color":"white",dense:""},on:{input:t.setSearch},scopedSlots:t._u([{key:"append",fn:function(){return[t.searchExpanded?t._e():s("q-icon",{attrs:{name:"fas fa-search",color:"black"},on:{click:function(){t.searchExpanded=!t.searchExpanded,t.$refs.search.focus()}}}),t.searchExpanded?s("q-icon",{attrs:{name:"fas fa-times",color:"black"},on:{click:function(){t.searchExpanded=!t.searchExpanded,t.clearSearch()}}}):t._e()]},proxy:!0}],null,!1,3557690797)}),t.$q.platform.is.desktop||!t.$q.platform.is.desktop&&!t.searchExpanded?s("q-btn",{staticStyle:{width:"40px",height:"40px",margin:"4px"},attrs:{icon:"far fa-life-ring",color:"white","text-color":"black",round:"",unelevated:""},on:{click:t.openHelp}},[s("q-tooltip",[t._v("Help")])],1):t._e(),t.$q.platform.is.desktop||!t.$q.platform.is.desktop&&!t.searchExpanded?s("q-btn",{staticClass:"sign-btn q-mr-sm",attrs:{label:"LOGIN",color:"white","text-color":"black",rounded:"",unelevated:""},on:{click:t.onLogin}}):t._e(),t.$q.platform.is.desktop||!t.$q.platform.is.desktop&&!t.searchExpanded?s("q-btn",{staticClass:"sign-btn",attrs:{to:"/register",label:"REGISTER",color:"white","text-color":"black",rounded:"",unelevated:""}}):t._e()],1)},c=[],d={name:"authentication",data(){return{searchExpanded:!1}},computed:r()(r()({},Object(l["c"])("accounts",["isAuthenticated"])),Object(l["c"])("search",["searchInput"])),methods:r()(r()({},Object(l["d"])("search",["setSearch","clearSearch"])),{},{openHelp(){window.open("https://notepad.hypha.earth/5dC66nNXRVGpb1aTHaRJXw","_blank")},onLogin(){"/login"!==this.$router.currentRoute.path&&this.$router.push({path:"/login?returnUrl="+this.$route.path})}})},u=d,p=(s("fe72"),s("2877")),h=s("27f9"),m=s("0016"),f=s("9c40"),b=s("05c0"),v=s("8572"),y=s("eebe"),g=s.n(y),q=Object(p["a"])(u,n,c,!1,null,"647972f1",null),C=q.exports;g()(q,"components",{QInput:h["a"],QIcon:m["a"],QBtn:f["a"],QTooltip:b["a"],QField:v["a"]});var x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isAuthenticated&&t.isMember?s("div",{staticClass:"auth-menu flex items-center"},[s("q-input",{ref:"search",staticClass:"search",class:{"search-expanded":t.searchExpanded,"search-collapsed":!t.searchExpanded},attrs:{value:t.searchInput,placeholder:"Search",rounded:"",outlined:"","bg-color":"white",dense:""},on:{input:t.setSearch},scopedSlots:t._u([{key:"append",fn:function(){return[t.searchExpanded?t._e():s("q-icon",{attrs:{name:"fas fa-search",color:"black"},on:{click:function(){t.searchExpanded=!t.searchExpanded,t.$refs.search.focus()}}}),t.searchExpanded?s("q-icon",{attrs:{name:"fas fa-times",color:"black"},on:{click:function(){t.searchExpanded=!t.searchExpanded,t.clearSearch()}}}):t._e()]},proxy:!0}],null,!1,3557690797)}),t.$q.platform.is.desktop||!t.$q.platform.is.desktop&&!t.searchExpanded?s("q-btn",{staticStyle:{width:"40px",height:"40px",margin:"4px"},attrs:{icon:"far fa-life-ring",color:"white","text-color":"black",round:"",unelevated:""},on:{click:t.openHelp}},[s("q-tooltip",[t._v("Help")])],1):t._e(),t.$q.platform.is.desktop||!t.$q.platform.is.desktop&&!t.searchExpanded?s("div",{staticClass:"avatar-container"},[t.profile&&t.profile.publicData.avatar?s("q-img",{staticClass:"avatar",attrs:{src:t.profile.publicData.avatar},on:{click:function(e){return t.$router.push({path:"/@"+t.account})}}}):s("q-avatar",{staticClass:"avatar",attrs:{size:"36px",color:"accent","text-color":"white"},on:{click:function(e){return t.$router.push({path:"/@"+t.account})}}},[t._v(t._s(t.account.slice(0,2).toUpperCase()))])],1):t._e(),t.$q.platform.is.desktop||!t.$q.platform.is.desktop&&!t.searchExpanded?s("q-btn",{staticStyle:{width:"40px",height:"40px",margin:"4px"},attrs:{icon:"fas fa-ellipsis-v",color:"white",flat:"",dense:"",round:"","no-caps":""}},[s("q-menu",[s("q-list",{attrs:{dense:""}},[s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{to:"/@"+t.account,clickable:""}},[s("q-item-section",[t._v("Profile")])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{to:"/wallet",clickable:""}},[s("q-item-section",[t._v("Wallet")])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{to:"/documents/assignment/"+t.account,clickable:""}},[s("q-item-section",[t._v("Assignments")])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{to:"/documents/payout/"+t.account,clickable:""}},[s("q-item-section",[t._v("Contributions")])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:t.showNotifications}},[s("q-item-section",[t._v("Transactions")])],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:t.logout}},[s("q-item-section",[t._v("Logout")])],1)],1)],1)],1):t._e()],1):t._e(),t.isAuthenticated&&!t.isMember?s("div",[s("dialog-member",{attrs:{show:t.show},on:{"update:show":function(e){t.show=e}}}),s("q-btn",{staticClass:"sign-btn q-ml-sm",attrs:{label:"BECOME A MEMBER",color:"white","text-color":"black",rounded:"",unelevated:""},on:{click:function(e){t.show=!0}}}),s("q-btn",{staticClass:"sign-btn q-ml-sm",attrs:{label:"Logout",color:"secondary","text-color":"white",rounded:"",unelevated:""},on:{click:t.logout}})],1):t._e()])},_=[],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{on:{"before-hide":function(e){return t.$emit("update:show",!1)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("q-card",{staticClass:"member-card"},[s("q-card-section",{staticClass:"text-center"},[s("div",{staticClass:"text-h6"},[t._v("Become a member")])]),s("q-card-section",[s("q-input",{ref:"reason",attrs:{label:"Reason for membership",maxlength:"140",counter:"",rules:[t.rules.required],"lazy-rules":""},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1),s("q-card-actions",[s("q-btn",{attrs:{label:"Cancel",flat:""},on:{click:t.onCloseDialog}}),s("q-btn",{attrs:{label:"Send",color:"secondary",loading:t.submitting},on:{click:t.onSubmit}})],1)],1)],1)},k=[],S=s("9008"),D={name:"dialog-become-member",mixins:[S["a"]],props:{show:{type:Boolean,required:!0}},data(){return{form:{reason:null},submitting:!1}},methods:r()(r()({},Object(l["b"])("members",["apply","fetchApplication"])),{},{onCloseDialog(){this.form.reason=null,this.$emit("update:show",!1)},async onSubmit(){if(await this.resetValidation(this.form),!await this.validate(this.form))return;this.submitting=!0;const t=await this.apply(this.form.reason);this.submitting=!1,t&&"/members/add/success"!==this.$router.currentRoute.path&&await this.$router.push({path:"/members/add/success"})}}),watch:{show:{immediate:!0,async handler(){const t=await this.fetchApplication();t&&(this.modify=!0,this.form.reason=t.content)}}}},O=D,T=(s("f70d"),s("24e8")),V=s("f09f"),P=s("a370"),R=s("4b7e"),I=Object(p["a"])(O,w,k,!1,null,"6e67c37d",null),E=I.exports;g()(I,"components",{QDialog:T["a"],QCard:V["a"],QCardSection:P["a"],QInput:h["a"],QCardActions:R["a"],QBtn:f["a"]});var j={name:"right-menu-authenticated",components:{DialogMember:E},data(){return{show:!1,profile:null,searchExpanded:!1}},computed:r()(r()({},Object(l["c"])("accounts",["isAuthenticated","isMember","account"])),Object(l["c"])("search",["searchInput"])),watch:{account:{immediate:!0,async handler(t){this.profile=await this.getPublicProfile(t)}}},methods:r()(r()(r()(r()(r()({},Object(l["b"])("accounts",["logout"])),Object(l["b"])("profiles",["getPublicProfile"])),Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["d"])("search",["setSearch","clearSearch"])),{},{showNotifications(){this.setShowRightSidebar(!0),this.setRightSidebarType("notifications")},openHelp(){window.open("https://notepad.hypha.earth/5dC66nNXRVGpb1aTHaRJXw","_blank")}})},H=j,$=(s("9020"),s("068f")),A=s("cb32"),F=s("4e73"),Q=s("1c1c"),N=s("66e5"),U=s("4074"),Y=s("7f67"),B=Object(p["a"])(H,x,_,!1,null,"3ded9a26",null),L=B.exports;g()(B,"components",{QInput:h["a"],QIcon:m["a"],QBtn:f["a"],QTooltip:b["a"],QImg:$["a"],QAvatar:A["a"],QMenu:F["a"],QList:Q["a"],QItem:N["a"],QItemSection:U["a"],QField:v["a"]}),g()(B,"directives",{ClosePopup:Y["a"]});var M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-scroll-area",{staticClass:"fit bg-grey-3"},[s("q-list",{staticClass:"menu",attrs:{bordered:!1,dense:""}},[s("q-item",{staticClass:"q-mt-md text-black",attrs:{to:"/dashboard"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:"fa fa-home"}})],1),s("q-item-section",[s("strong",[t._v("Activities")])])],1),t.isAuthenticated&&t.isMember?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.displayForm("role")}}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Create Role")])],1):t._e(),t.isAuthenticated&&t.isMember?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.displayForm("payout")}}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Create Contribution")])],1):t._e(),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents-proposal/role",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Endorse Role")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents-proposal/payout",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Endorse Contribution")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/roles",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Apply for Role")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/applicants",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Enroll Members")]),s("q-item-section",{attrs:{side:""}},[s("q-icon",{staticClass:"text-grey-5",staticStyle:{"font-size":"18px"},attrs:{name:"fas fa-lock"}})],1)],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents-proposal/assignment",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Enroll Applicants")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/raw",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Explore data")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/treasury",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Treasury")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/multi-sig",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Multi Sig")])],1),t.isEnroller?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/alert-manager",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Alert manager")])],1):t._e(),s("q-separator",{staticClass:"q-my-sm"}),s("q-item",{staticClass:"text-black",attrs:{to:"/members"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:"fas fa-user-friends"}})],1),s("q-item-section",[s("strong",[t._v("Participants")])])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/applicants",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("New Members")])],1),s("q-separator",{staticClass:"q-my-sm"}),s("q-item",[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:"fas fa-suitcase"}})],1),s("q-item-section",[s("strong",[t._v("Proposals")])])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents-proposal/role",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Roles")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents-proposal/payout",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Contributions")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents-proposal/badge",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Badges")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents-proposal/assignment",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Role-assignments")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents-proposal/badgeAssignment",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Badge-assignments")])],1),s("q-separator",{staticClass:"q-my-sm"}),s("q-item",[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:"fas fa-handshake"}})],1),s("q-item-section",[s("strong",[t._v("Agreements")])])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents/badge",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Badges")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents/role",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Roles")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/documents/assignment",exact:"",clickable:""}},[s("q-item-section",{attrs:{avatar:""}}),s("q-item-section",[t._v("Assignments")])],1)],1)],1)},z=[],W={name:"layout-left-menu",computed:r()({},Object(l["c"])("accounts",["isAuthenticated","isMember","isEnroller"])),methods:r()(r()({},Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{displayForm(t){this.setShowRightSidebar(!0),this.setRightSidebarType(t+"Form")}})},K=W,G=(s("6cfa"),s("4983")),J=s("eb85"),X=s("714f"),Z=Object(p["a"])(K,M,z,!1,null,"6bf45075",null),tt=Z.exports;g()(Z,"components",{QScrollArea:G["a"],QList:Q["a"],QItem:N["a"],QItemSection:U["a"],QIcon:m["a"],QSeparator:J["a"]}),g()(Z,"directives",{Ripple:X["a"]});var et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-drawer",{attrs:{side:"right",overlay:"",bordered:"",width:t.$q.platform.is.desktop?500:"90%",behavior:"mobile","no-swipe-close":"","no-swipe-open":""},on:{hide:function(e){return t.setShowRightSidebar(!1)}},model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[s("right-menu-notifications",{directives:[{name:"show",rawName:"v-show",value:"notifications"===t.rightSidebarType,expression:"rightSidebarType === 'notifications'"}]}),"roleForm"===t.rightSidebarType?s("role-form",{attrs:{draft:t.contentData}}):t._e(),"roleProposalView"===t.rightSidebarType?s("role-proposal-view",{attrs:{proposal:t.contentData}}):t._e(),"roleView"===t.rightSidebarType?s("role-view",{attrs:{role:t.contentData}}):t._e(),"assignmentForm"===t.rightSidebarType?s("assignment-form",{attrs:{draft:t.contentData}}):t._e(),"assignmentProposalView"===t.rightSidebarType?s("assignment-proposal-view",{attrs:{proposal:t.contentData}}):t._e(),"assignmentView"===t.rightSidebarType?s("assignment-view",{attrs:{assignment:t.contentData}}):t._e(),"profileForm"===t.rightSidebarType?s("profile-form"):t._e(),"payoutForm"===t.rightSidebarType?s("payout-form",{attrs:{draft:t.contentData}}):t._e(),"payoutProposalView"===t.rightSidebarType?s("payout-proposal-view",{attrs:{proposal:t.contentData}}):t._e(),"payoutView"===t.rightSidebarType?s("payout-view",{attrs:{payout:t.contentData}}):t._e(),"profileRequired"===t.rightSidebarType?s("profile-required"):t._e(),"badgeForm"===t.rightSidebarType?s("badge-form",{attrs:{draft:t.contentData}}):t._e(),"badgeProposalView"===t.rightSidebarType?s("badge-proposal-view",{attrs:{proposal:t.contentData}}):t._e(),"badgeView"===t.rightSidebarType?s("badge-view",{attrs:{badge:t.contentData}}):t._e(),"badgeAssignmentForm"===t.rightSidebarType?s("badge-assignment-form",{attrs:{draft:t.contentData}}):t._e(),"badgeAssignmentProposalView"===t.rightSidebarType?s("badge-assignment-proposal-view",{attrs:{proposal:t.contentData}}):t._e()],1)},st=[],at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("div",{staticClass:"column justify-between full-height"},[s("q-list",{staticClass:"notif-list",attrs:{separator:""}},[s("q-item",[s("q-item-section",{staticClass:"text-center"},[s("strong",[t._v("Transactions")])]),s("q-item-section",{attrs:{side:""}},[s("q-btn",{attrs:{icon:"fas fa-times",flat:""},on:{click:t.onClose}})],1)],1),t._l(t.notifications,(function(e){return t.notifications.length?s("q-item",{key:e.id,class:{"new-success":!e.read&&"success"===e.status,"new-error":!e.read&&"error"===e.status}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:e.icon,size:"xs",color:"success"===e.status?"green":"red"}})],1),s("q-item-section",{staticClass:"notif-content"},[s("q-item-label",{attrs:{overline:""}},[t._v(t._s(e.title))]),s("q-item-label",{attrs:{caption:""}},[t._v(t._s("success"===e.status?e.content:e.error))])],1),e.transactionId?s("q-item-section",{attrs:{side:""}},[s("q-btn",{attrs:{color:"primary",icon:"fas fa-external-link-alt",target:"_blank",dense:"",flat:"",size:"8px"},on:{click:function(s){return t.openUrl("/transaction/"+e.transactionId)}}},[s("q-tooltip",[t._v("Display on block explorer")])],1)],1):t._e()],1):t._e()}))],2),s("q-btn",{staticClass:"full-width",style:{borderRadius:0},attrs:{label:"Clear all",color:"primary"},on:{click:t.onClear}})],1)])},it=[],ot={name:"right-menu-notifications",computed:r()({},Object(l["c"])("notifications",["notifications"])),methods:r()(r()(r()({},Object(l["d"])("notifications",["clearNotifications"])),Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{openUrl(t){window.open("https://telos.bloks.io"+t)},onClear(){this.clearNotifications(),this.onClose()},onClose(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}})},rt=ot,lt=(s("6e21"),s("0170")),nt=Object(p["a"])(rt,at,it,!1,null,"145e1c48",null),ct=nt.exports;g()(nt,"components",{QList:Q["a"],QItem:N["a"],QItemSection:U["a"],QBtn:f["a"],QIcon:m["a"],QItemLabel:lt["a"],QTooltip:b["a"]});var dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("q-input",{ref:"title",attrs:{color:"accent",label:"Title",maxlength:"100",rules:[t.rules.required],"lazy-rules":"",outlined:"",dense:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),s("q-editor",{attrs:{fullscreen:t.isFullScreen,"min-height":"100px",toolbar:t.isFullScreen?t.fullScreenToolbar:t.defaultToolbar},on:{"update:fullscreen":function(e){t.isFullScreen=e}},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Supporting documentation")]),s("q-input",{ref:"url",attrs:{color:"accent",label:"URL Link",rules:[t.rules.url],"lazy-rules":"",outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-link",size:"xs"}})]},proxy:!0}]),model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Salary")]),s("p",[t._v("Fields below display the minimum % commitment and % HYPHA tokens vs. HUSD tokens required for this role as well as the role capacity (how many people can be assigned to this role) and USD equivalent.")]),s("div",{staticClass:"row q-col-gutter-sm q-mb-md"},[s("div",{staticClass:"col-xs-12 col-md-4"},[s("q-input",{ref:"salaryDeferred",attrs:{type:"number",color:"accent",label:"Min. hypha",rules:[t.rules.required,t.rules.positiveAmount,t.rules.lessOrEqualThan(100)],hint:"Min %","lazy-rules":"",outlined:"",dense:""},on:{blur:function(e){t.form.salaryDeferred=parseFloat(t.form.salaryDeferred).toFixed(0)}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-percentage",size:"xs"}})]},proxy:!0}]),model:{value:t.form.salaryDeferred,callback:function(e){t.$set(t.form,"salaryDeferred",e)},expression:"form.salaryDeferred"}})],1),s("div",{staticClass:"col-xs-12 col-md-5"},[s("q-select",{ref:"salaryUsd",attrs:{label:"USD equivalent",options:t.salaryOptions,"map-options":"","emit-value":"",outlined:"",dense:"",rules:[t.rules.required],hint:"Yearly","lazy-rules":""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-dollar-sign",size:"xs"}})]},proxy:!0}]),model:{value:t.form.salaryUsd,callback:function(e){t.$set(t.form,"salaryUsd",e)},expression:"form.salaryUsd"}})],1),s("div",{staticClass:"col-xs-12 col-md-3"},[s("q-input",{ref:"salaryCapacity",attrs:{type:"number",color:"accent",label:"ROLE CAP",rules:[t.rules.required,t.rules.positiveAmount],hint:"1.0=FT","lazy-rules":"",outlined:"",dense:""},on:{blur:function(e){t.form.salaryCapacity=parseFloat(t.form.salaryCapacity).toFixed(1)}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-hashtag",size:"xs"}})]},proxy:!0}]),model:{value:t.form.salaryCapacity,callback:function(e){t.$set(t.form,"salaryCapacity",e)},expression:"form.salaryCapacity"}})],1)])]),s("div",{staticClass:"text-center q-mt-sm"},[s("q-btn",{staticClass:"q-mr-sm",attrs:{label:"Cancel",rounded:"",color:"grey",dense:"",unelevated:""},on:{click:t.hideForm}}),s("q-btn",{attrs:{label:"Save draft",rounded:"",color:"green",dense:"",unelevated:"",loading:t.submitting},on:{click:t.onSaveDraft}})],1)],1)},ut=[],pt=s("1732");const ht={computed:r()(r()({},Object(l["c"])("profiles",["profiles"])),Object(l["c"])("accounts",["account"])),methods:r()({},Object(l["d"])("layout",["setRightSidebarType"])),beforeMount(){this.profiles[this.account]||this.setRightSidebarType("profileRequired")}};var mt=s("407f"),ft=s("7444");const bt="<b>Purpose</b><div>This guides the evolution of the role and is the part that changes the least.</div><div><br></div><div><b>Accountabilities</b></div><div>What is this role accountable to doing - what can others expect from this role? Provide a list of 5-10 bullet points.</div><div><br></div><div><b>Domain</b></div><div>What is under explicit control of that role? What do others need to ask this role permission to edit/change/interact with? Provide a list of tags.</div>";var vt={name:"role-form",mixins:[mt["a"],ft["a"],S["a"],ht],props:{draft:{type:Object}},data(){return{form:{id:Object(pt["a"])(),title:null,description:bt,url:null,salaryDeferred:null,salaryUsd:null,salaryCapacity:null,edit:!1},salaryOptions:[{value:7e4,label:"B1 - "+this.toAsset(7e4)},{value:9e4,label:"B2 - "+this.toAsset(9e4)},{value:11e4,label:"B3 - "+this.toAsset(11e4)},{value:13e4,label:"B4 - "+this.toAsset(13e4)},{value:15e4,label:"B5 - "+this.toAsset(15e4)},{value:17e4,label:"B6 - "+this.toAsset(17e4)},{value:19e4,label:"B7 - "+this.toAsset(19e4)}],isFullScreen:!1,submitting:!1}},methods:r()(r()(r()({},Object(l["b"])("profiles",["saveDraft"])),Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{async onSaveDraft(){if(await this.resetValidation(this.form),!await this.validate(this.form))return;this.submitting=!0;const t=await this.saveDraft({type:"role",draft:this.form});t&&(await this.reset(),this.hideForm(),"/documents-proposal/role"!==this.$router.currentRoute.path&&await this.$router.push({path:"/documents-proposal/role"})),this.submitting=!1},async reset(){this.form={id:Object(pt["a"])(),title:null,description:bt,url:null,salaryDeferred:null,salaryUsd:null,salaryCapacity:null,edit:!1},await this.resetValidation(this.form)},hideForm(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}}),watch:{draft:{immediate:!0,handler(t){t?this.form=r()({},t):this.reset()}}}},yt=vt,gt=(s("86d0"),s("d66b")),qt=s("ddd8"),Ct=Object(p["a"])(yt,dt,ut,!1,null,"67939ecc",null),xt=Ct.exports;g()(Ct,"components",{QInput:h["a"],QEditor:gt["a"],QIcon:m["a"],QSelect:qt["a"],QBtn:f["a"]});var _t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("div",{staticClass:"text-h6 q-mb-sm q-ml-md"},[t._v(t._s(t.title)+" ("+t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||"@"+t.proposer)+")"),s("raw-display-icon",{attrs:{document:t.proposal}})],1),t.description?s("div",{staticClass:"description relative-position"},[s("markdown-display",{attrs:{text:t.description}})],1):t._e(),t.url?s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Supporting documentation")]),s("a",{staticClass:"link q-my-md",attrs:{href:t.url,target:"_blank"}},[t._v(t._s(t._f("truncate")(t.url,60)))])]):t._e(),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Salary")]),s("p",[t._v("Fields below display the minimum % commitment and % HYPHA tokens vs. HUSD tokens required for this role as well as the role capacity (how many people can be assigned to this role) and USD equivalent.")]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-4",style:{width:"33%"}},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.minDeferred,callback:function(e){t.minDeferred=e},expression:"minDeferred"}}),s("div",{staticClass:"hint"},[t._v("Min. hypha")])],1),s("div",{staticClass:"col-4",style:{width:"27%"}},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.ftCapacity,callback:function(e){t.ftCapacity=e},expression:"ftCapacity"}}),s("div",{staticClass:"hint"},[t._v("ROLE CAP")])],1),s("div",{staticClass:"col-4",style:{width:"40%"}},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.usdEquity,callback:function(e){t.usdEquity=e},expression:"usdEquity"}}),s("div",{staticClass:"hint"},[t._v("Usd equivalent/year")])],1)])]),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Vote results")]),s("p",[t._v("This is the current tally for the role proposal. Please vote with the buttons below. Repeat votes allowed until close.")]),t.ballotId?s("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.proposer,hash:this.proposal.hash,countdown:!0},on:{"close-proposal":t.onClose}}):t._e()],1),t.ballotId?s("votes-details",{attrs:{ballotId:t.ballotId,size:5}}):t._e(),s("div",{staticClass:"row flex justify-start q-mt-md"},[s("q-btn",{attrs:{label:"Close",rounded:"",color:"grey",unelevated:""},on:{click:t.hide}})],1)],1)},wt=[],kt=s("386c"),St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"markdown-content",class:{fullscreen:t.inFullscreen}},[s("div",{staticClass:"relative-position"},[s("q-markdown",{staticClass:"q-pa-sm",attrs:{src:t.text}})],1),s("q-btn",{staticClass:"absolute-top-right q-ma-xs",attrs:{color:"grey-8",flat:"",dense:"",icon:"far fa-square",size:"sm"},on:{click:t.toggleFullscreen}})],1)},Dt=[],Ot={props:{fullscreen:Boolean},data(){return{inFullscreen:!1}},watch:{$route(){this.exitFullscreen()},fullscreen(t){this.inFullscreen!==t&&this.toggleFullscreen()},inFullscreen(t){this.$emit("update:fullscreen",t),this.$emit("fullscreen",t)}},methods:{toggleFullscreen(){!0===this.inFullscreen?this.exitFullscreen():this.setFullscreen()},setFullscreen(){!0!==this.inFullscreen&&(this.inFullscreen=!0,this.container=this.$el.parentNode,this.container.replaceChild(this.fullscreenFillerNode,this.$el),document.body.appendChild(this.$el),document.body.classList.add("q-body--fullscreen-mixin"))},exitFullscreen(){!0===this.inFullscreen&&(this.container.replaceChild(this.$el,this.fullscreenFillerNode),document.body.classList.remove("q-body--fullscreen-mixin"),this.inFullscreen=!1,void 0!==this.$el.scrollIntoView&&setTimeout((()=>{this.$el.scrollIntoView()})))}},beforeMount(){this.fullscreenFillerNode=document.createElement("span")},mounted(){!0===this.fullscreen&&this.setFullscreen()},beforeDestroy(){this.exitFullscreen()}},Tt={name:"markdown-display",mixins:[Ot],props:{text:{type:String,required:!0}}},Vt=Tt,Pt=(s("b81c"),Object(p["a"])(Vt,St,Dt,!1,null,null,null)),Rt=Pt.exports;g()(Pt,"components",{QBtn:f["a"]});var It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"raw-display-icon"},[s("q-btn",{attrs:{icon:"fas fa-cog",flat:""},on:{click:function(e){t.show=!0}}}),s("q-dialog",{attrs:{"full-height":"","full-width":""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("q-card",[t._v("TODO")])],1)],1)},Et=[],jt={name:"raw-display-icon",props:{document:{type:Object}},data(){return{show:!1}}},Ht=jt,$t=(s("9ba9"),Object(p["a"])(Ht,It,Et,!1,null,"2cd08daa",null)),At=$t.exports;g()($t,"components",{QBtn:f["a"],QDialog:T["a"],QCard:V["a"]});var Ft=s("bc31"),Qt=s("8686"),Nt={name:"role-proposal-view",mixins:[kt["a"],ft["a"]],components:{MarkdownDisplay:Rt,RawDisplayIcon:At,VoteYesNoAbstain:Ft["a"],VotesDetails:Qt["a"]},props:{proposal:{type:Object}},data(){return{profile:null}},computed:r()(r()({},Object(l["c"])("accounts",["isAuthenticated","isAdmin","isMember","account"])),{},{proposer(){return this.proposal.creator},ballotId(){return this.getValue(this.proposal,"system","ballot_id")},title(){return this.getValue(this.proposal,"details","title")},description(){return this.getValue(this.proposal,"details","description")},url(){return this.getValue(this.proposal,"details","url")},minDeferred(){return this.getValue(this.proposal,"details","min_deferred_x100")},usdEquity(){return this.getValue(this.proposal,"details","annual_usd_salary")},ftCapacity(){return this.getValue(this.proposal,"details","fulltime_capacity_x100")/100}}),async mounted(){this.profile=await this.getPublicProfile(this.proposer)},methods:r()(r()(r()(r()({},Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["d"])("roles",["removeProposal"])),Object(l["b"])("profiles",["getPublicProfile"])),{},{onClose(){this.removeProposal(this.proposal.hash),this.hide()},hide(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)},open(t){window.open(t,"_blank")}}),watch:{proposer:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}}}},Ut=Nt,Yt=(s("6659"),Object(p["a"])(Ut,_t,wt,!1,null,"6aeb3123",null)),Bt=Yt.exports;g()(Yt,"components",{QInput:h["a"],QBtn:f["a"]});var Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("div",{staticClass:"text-h6 q-mb-sm q-ml-md"},[t._v(t._s(t.title)),s("raw-display-icon",{attrs:{document:t.role}})],1),t.description?s("div",{staticClass:"description relative-position"},[s("markdown-display",{attrs:{text:t.description}}),t.url?s("q-btn",{staticClass:"absolute-bottom-right q-ma-xs",attrs:{color:"grey-8",flat:"",dense:"",icon:"fas fa-link",size:"sm"},on:{click:function(){return t.openUrl(t.url)}}}):t._e()],1):t._e(),t.url?s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Supporting documentation")]),s("a",{staticClass:"link q-my-md",attrs:{href:t.url,target:"_blank"}},[t._v(t._s(t._f("truncate")(t.url,60)))])]):t._e(),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Salary")]),s("p",[t._v("Fields below display the minimum % commitment and % HYPHA tokens vs. HUSD tokens required for this role as well as the role capacity (how many people can be assigned to this role) and USD equivalent.")]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-4",style:{width:"33%"}},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.minDeferred,callback:function(e){t.minDeferred=e},expression:"minDeferred"}}),s("div",{staticClass:"hint"},[t._v("Min. hypha")])],1),s("div",{staticClass:"col-4",style:{width:"27%"}},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.ftCapacity,callback:function(e){t.ftCapacity=e},expression:"ftCapacity"}}),s("div",{staticClass:"hint"},[t._v("ROLE CAP")])],1),s("div",{staticClass:"col-4",style:{width:"40%"}},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.usdEquity,callback:function(e){t.usdEquity=e},expression:"usdEquity"}}),s("div",{staticClass:"hint"},[t._v("Usd equivalent/year")])],1)])]),s("div",{staticClass:"row flex justify-between q-mt-md"},[s("q-btn",{attrs:{label:"Close",rounded:"",color:"grey",unelevated:""},on:{click:t.hide}})],1)])},Mt=[],zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Lunar cycles")]),s("p",[t._v(t._s(t.text))]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:t.getIcon(t.startPhase&&t.startPhase.phase)}})]},proxy:!0}]),model:{value:t.startPhase&&new Date(t.startPhase.startDate).toLocaleDateString(),callback:function(e){t.$set(t.startPhase&&new Date(t.startPhase.startDate),"toLocaleDateString()",e)},expression:"startPhase && new Date(startPhase.startDate).toLocaleDateString()"}})],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-hashtag"}})]},proxy:!0}]),model:{value:t.periodCount,callback:function(e){t.periodCount=e},expression:"periodCount"}})],1)])])},Wt=[],Kt={name:"lunar-cycles-display",props:{startPhase:{type:Object},periodCount:{type:Number},text:{type:String}},methods:{getIcon(t){switch(t){case"First Quarter":return"fas fa-adjust";case"Full Moon":return"far fa-circle";case"Last Quarter":return"fas fa-adjust reversed";case"New Moon":return"fas fa-circle";default:return"fas fa-circle"}}}},Gt=Kt,Jt=Object(p["a"])(Gt,zt,Wt,!1,null,"ab7b5db4",null),Xt=Jt.exports;g()(Jt,"components",{QInput:h["a"],QIcon:m["a"]});var Zt={name:"role-view",mixins:[kt["a"],ft["a"]],components:{LunarCyclesDisplay:Xt,MarkdownDisplay:Rt,RawDisplayIcon:At},props:{role:{type:Object}},computed:r()(r()({},Object(l["c"])("periods",["periods"])),{},{title(){return this.getValue(this.role,"details","title")},description(){return this.getValue(this.role,"details","description")},url(){return this.getValue(this.role,"details","url")},minDeferred(){return this.getValue(this.role,"details","min_deferred_x100")},usdEquity(){return this.getValue(this.role,"details","annual_usd_salary")},ftCapacity(){return this.getValue(this.role,"details","fulltime_capacity_x100")/100}}),methods:r()(r()({},Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{hide(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}})},te=Zt,ee=(s("8933"),Object(p["a"])(te,Lt,Mt,!1,null,"72943abe",null)),se=ee.exports;g()(ee,"components",{QBtn:f["a"],QInput:h["a"]});var ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("strong",{staticClass:"title"},[t._v(t._s(t.title))]),s("q-editor",{staticClass:"q-mt-sm",attrs:{fullscreen:t.isFullScreen,"min-height":"100px",toolbar:t.isFullScreen?t.fullScreenToolbar:t.defaultToolbar},on:{"update:fullscreen":function(e){t.isFullScreen=e}},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Supporting documentation")]),s("q-input",{ref:"url",attrs:{color:"accent",label:"URL Link",rules:[t.rules.url],"lazy-rules":"",outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-link",size:"xs"}})]},proxy:!0}]),model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Salary")]),s("p",[t._v("Please enter your % commitment and % HYPHA tokens vs. HUSD tokens for this assignment. The payout of this assignment computes the corresponding amounts in HVOICE, HYPHA and HUSD for a "+t._s(this.monthly?"full lunar cycle (ca. 1 month)":"single lunar period (ca. 1 week)")+".")]),s("div",{staticClass:"row q-col-gutter-xs q-mb-md"},[s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{ref:"salaryCommitted",attrs:{type:"number",color:"accent",label:"Committed",rules:[t.rules.required,t.rules.positiveAmount,t.rules.lessOrEqualThan(100),t.rules.greaterThanOrEqual(0)],"lazy-rules":"",outlined:"",dense:""},on:{blur:function(e){t.form.salaryCommitted=parseFloat(t.form.salaryCommitted).toFixed(0)}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-percentage",size:"xs"}})]},proxy:!0}]),model:{value:t.form.salaryCommitted,callback:function(e){t.$set(t.form,"salaryCommitted",e)},expression:"form.salaryCommitted"}})],1),s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{ref:"salaryDeferred",attrs:{color:"accent",label:"Deferred",rules:[t.rules.required,t.rules.positiveAmount,t.rules.lessOrEqualThan(100),t.rules.greaterThanOrEqual(t.minDeferred)],hint:"Min "+t.minDeferred+"%","lazy-rules":"",outlined:"",dense:""},on:{blur:function(e){t.form.salaryDeferred=parseFloat(t.form.salaryDeferred).toFixed(0)}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-percentage",size:"xs"}})]},proxy:!0}]),model:{value:t.form.salaryDeferred,callback:function(e){t.$set(t.form,"salaryDeferred",e)},expression:"form.salaryDeferred"}})],1)]),s("div",{staticClass:"row q-my-sm"},[s("strong",[t._v("SALARY CALCULATION (BASED ON USD EQUIVALENT OF USD "+t._s(t.usdEquity)+")")])]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-4"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.display.husd,callback:function(e){t.$set(t.display,"husd",e)},expression:"display.husd"}}),s("div",{staticClass:"hint"},[t._v("husd")])],1),s("div",{staticClass:"col-4"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.display.hvoice,callback:function(e){t.$set(t.display,"hvoice",e)},expression:"display.hvoice"}}),s("div",{staticClass:"hint"},[t._v("hvoice")])],1),s("div",{staticClass:"col-4"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.display.hypha,callback:function(e){t.$set(t.display,"hypha",e)},expression:"display.hypha"}}),s("div",{staticClass:"hint"},[t._v("hypha")])],1)]),s("div",{staticClass:"row"},[s("q-toggle",{attrs:{label:"Show tokens for a full lunar cycle (ca. 1 month)"},model:{value:t.monthly,callback:function(e){t.monthly=e},expression:"monthly"}})],1)]),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Lunar cycles")]),s("p",[t._v("This is the lunar start date and periods for this assignment. We recommend a maximum of 12 periods before reevaluation.")]),s("div",{staticClass:"row q-col-gutter-sm"},[s("div",{staticClass:"col-xs-12 col-md-6"},[s("period-select",{ref:"startPeriod",attrs:{readonly:t.form.edit&&t.draft.startPeriod,value:t.form.startPeriod,period:t.form.startPeriod&&t.form.startPeriod.value,periods:t.form.edit?t.periodOptionsEditProposal:t.periodOptionsStartProposal.slice(0,8),label:"Start phase",required:""},on:{"update:value":function(e){return t.$set(t.form,"startPeriod",e)}}})],1),s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{attrs:{label:"Number of periods",outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-hashtag",size:"xs"}})]},proxy:!0}]),model:{value:t.form.periodCount,callback:function(e){t.$set(t.form,"periodCount",e)},expression:"form.periodCount"}})],1)])]),s("div",{staticClass:"text-center q-mt-sm"},[s("q-btn",{staticClass:"q-mr-sm",attrs:{label:"Cancel",rounded:"",color:"grey",dense:"",unelevated:""},on:{click:t.hideForm}}),s("q-btn",{attrs:{label:"Save draft",rounded:"",color:"green",dense:"",unelevated:"",loading:t.submitting},on:{click:t.onSaveDraft}})],1)],1)},ie=[],oe=(s("fb6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-input",{ref:"model",attrs:{readonly:t.readonly,label:t.label,outlined:"",dense:"",rules:[t.rules.requiredIf(t.required)],"lazy-rules":""},on:{clear:function(e){return t.$emit("update:value",null)}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"{ 'cursor-pointer': !readonly }",attrs:{name:t.getIcon(t.phase)}},[t.readonly?t._e():s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{options:t.options,subtitle:t.label,"default-year-month":t.minDate},on:{input:function(){return t.$refs.qDateProxy.hide()}},model:{value:t.form.model,callback:function(e){t.$set(t.form,"model",e)},expression:"form.model"}})],1)],1)]},proxy:!0}]),model:{value:t.form.model,callback:function(e){t.$set(t.form,"model",e)},expression:"form.model"}})}),re=[],le=s("bd4c"),ne={name:"period-select",mixins:[S["a"]],props:{value:{type:Object},readonly:{type:Boolean,default:!1},period:{type:String},periods:{type:Array},label:{type:String,required:!0},required:{type:Boolean,default:()=>!1}},data(){return{options:[],init:!0,phase:null,form:{model:null}}},methods:{getIcon(t){switch(t){case"First Quarter":return"fas fa-adjust";case"Full Moon":return"far fa-circle";case"Last Quarter":return"fas fa-adjust reversed";case"New Moon":return"fas fa-circle";default:return"event"}},async onValidate(){return await this.resetValidation(this.form),this.validate(this.form)},initForm(){if(this.periods&&this.periods.length){if(this.init){const t=this.periods.find((t=>t.value===this.period));t&&(this.form.model=le["b"].formatDate(new Date(t.startDate).getTime(),"YYYY/MM/DD")),this.init=!1}}else setTimeout(this.initForm,100)}},computed:{minDate(){return this.options&&this.options.length&&this.options[0].slice(0,-3)||le["b"].formatDate((new Date).getTime(),"YYYY/MM")}},watch:{periods:{immediate:!0,handler(t){this.options=t&&t.map((t=>le["b"].formatDate(new Date(t.startDate).getTime(),"YYYY/MM/DD")))}},"form.model"(t){if(!this.init&&"string"===typeof t){const e=le["b"].extractDate(t,"YYYY/MM/DD").getTime(),s=this.periods.find((t=>le["b"].extractDate(le["b"].formatDate(new Date(t.startDate).getTime(),"YYYY/MM/DD"),"YYYY/MM/DD").getTime()===e));this.phase=s.phase,this.$emit("update:value",s)}},period:{immediate:!0,handler(){this.initForm()}}}},ce=ne,de=(s("af29"),s("7cbe")),ue=s("52ee"),pe=Object(p["a"])(ce,oe,re,!1,null,"e9dc59a6",null),he=pe.exports;g()(pe,"components",{QInput:h["a"],QIcon:m["a"],QPopupProxy:de["a"],QDate:ue["a"]});const me='Hypha applies a pattern of <b>Objectives and Key Results (OKRs)</b> to all assignments. At the beginning of your assignment, state your <b>Objective</b> (e.g. "Have a thriving community on SEEDS"), which is something that you and/or your circle hope to accomplish within the next quarter <em>as well as</em> <b>2-5 Key Results</b>, which are measurable expressions of success or progress towards this objective (e.g. "Invite 100 new Residents"). At the time of your re-evaluation, write down how much of your KR you completed towards your Objective (e.g. "80% completed"). Then, repeat the process for the next quarter assignment, keeping the previous OKRs for reference. We recommend to add a link to a video, CV, or other supporting documents, below.';var fe={name:"assignment-form",mixins:[kt["a"],mt["a"],S["a"],ht,ft["a"]],components:{PeriodSelect:he},props:{draft:{type:Object}},data(){return{form:{id:Object(pt["a"])(),description:me,url:null,salaryCommitted:null,salaryDeferred:null,startPeriod:null,periodCount:null,hash:null,edit:!1},display:{hvoice:0,hypha:0,husd:0},isFullScreen:!1,submitting:!1,monthly:!1}},computed:r()(r()(r()({},Object(l["c"])("periods",["periodOptionsStartProposal","periods"])),Object(l["c"])("payouts",["seedsToUsd"])),{},{periodOptionsEditProposal(){if(!this.draft.startPeriod)return this.periods.filter((t=>t.startDate.getTime()>=Date.now()));const t=this.periodOptionsStartProposal.slice(0,8)[this.periodOptionsStartProposal.slice(0,8).length-1];return this.periods.filter((e=>e.startDate.getTime()>=new Date(this.draft.startPeriod.startDate).getTime()&&e.startDate.getTime()<=new Date(t.startDate).getTime()))},title(){return this.form.role?this.getValue(this.form.role,"details","title"):""},minDeferred(){return this.form.role?this.getValue(this.form.role,"details","min_deferred_x100"):0},usdEquity(){return this.form.role?this.getValue(this.form.role,"details","annual_usd_salary"):""}}),methods:r()(r()(r()({},Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["b"])("profiles",["saveDraft"])),{},{async onSaveDraft(){if(await this.resetValidation(this.form),!await this.validate(this.form))return;this.submitting=!0;const t=await this.saveDraft({type:"assignment",draft:this.form});t&&(await this.reset(),this.hideForm(),"/documents-proposal/assignment"!==this.$router.currentRoute.path&&await this.$router.push({path:"/documents-proposal/assignment"})),this.submitting=!1},async reset(){this.form={id:Object(pt["a"])(),description:me,url:null,salaryCommitted:null,salaryDeferred:null,startPeriod:null,periodCount:null,edit:!1},await this.resetValidation(this.form)},hideForm(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)},computeTokens(t,e){const s=isNaN(t)?0:parseFloat(t||0),a=isNaN(e)?0:parseFloat(e||0),i=parseFloat(this.usdEquity||0)*s/100;this.display.hvoice=this.toAsset(2*i/(365.25/7.4)*(this.monthly?4:1)),this.display.hypha=this.toAsset(i*a/100*this.$config.contracts.hyphaMultiplier/(365.25/7.4)*(this.monthly?4:1)),this.display.husd=this.toAsset(i*(1-a/100)/(365.25/7.4)*(this.monthly?4:1))}}),watch:{monthly:{immediate:!0,handler(){this.computeTokens(this.form.salaryCommitted,this.form.salaryDeferred)}},"form.salaryCommitted":{immediate:!0,handler(t){this.computeTokens(t,this.form.salaryDeferred)}},"form.salaryDeferred":{immediate:!0,handler(t){this.computeTokens(this.form.salaryCommitted,t)}},draft:{immediate:!0,handler(t){t?"new"===t.type?(this.reset(),this.form.role=t.role):this.form=r()({},t):this.reset()}}}},be=fe,ve=(s("e8bc"),s("9564")),ye=Object(p["a"])(be,ae,ie,!1,null,"2cde1dd6",null),ge=ye.exports;g()(ye,"components",{QEditor:gt["a"],QInput:h["a"],QIcon:m["a"],QToggle:ve["a"],QBtn:f["a"]});var qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("div",{staticClass:"text-h6 q-mb-sm q-ml-md"},[t._v(t._s(t.title)),s("raw-display-icon",{attrs:{document:t.proposal}})],1),t.description?s("div",{staticClass:"description relative-position"},[s("markdown-display",{attrs:{text:t.description}})],1):t._e(),t.url?s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Supporting documentation")]),s("a",{staticClass:"link q-my-md",attrs:{href:t.url,target:"_blank"}},[t._v(t._s(t._f("truncate")(t.url,60)))])]):t._e(),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Salary")]),s("p",[t._v("Fields below display the payout of this assignment for a "+t._s(this.monthly?"full lunar cycle (ca. 1 month)":"single lunar period (ca. 1 week)")+" as well as % committed and % HYPHA tokens vs. HUSD tokens. The payout is shown as USD equivalent and the corresponding amounts in HVOICE, HYPHA and HUSD.")]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.salaryCommitted,callback:function(e){t.salaryCommitted=e},expression:"salaryCommitted"}}),s("div",{staticClass:"hint"},[t._v("Committed")])],1),s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.salaryDeferred,callback:function(e){t.salaryDeferred=e},expression:"salaryDeferred"}}),s("div",{staticClass:"hint"},[t._v("Deferred")])],1)]),s("div",{staticClass:"row q-my-sm"},[s("strong",[t._v("SALARY CALCULATION (BASED ON USD EQUIVALENT OF USD "+t._s(t.usdEquity)+")")])]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-4"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHusd,callback:function(e){t.tokenHusd=e},expression:"tokenHusd"}}),s("div",{staticClass:"hint"},[t._v("HUSD")])],1),s("div",{staticClass:"col-4"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHvoice,callback:function(e){t.tokenHvoice=e},expression:"tokenHvoice"}}),s("div",{staticClass:"hint"},[t._v("HVOICE")])],1),s("div",{staticClass:"col-4"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHypha,callback:function(e){t.tokenHypha=e},expression:"tokenHypha"}}),s("div",{staticClass:"hint"},[t._v("HYPHA")])],1)]),s("div",{staticClass:"row"},[s("q-toggle",{attrs:{label:"Show tokens for a full lunar cycle (ca. 1 month)"},model:{value:t.monthly,callback:function(e){t.monthly=e},expression:"monthly"}})],1)]),s("lunar-cycles-display",{attrs:{startPhase:t.startPhase,periodCount:t.periodCount,text:"This is the lunar start date and periods for this assignment. We recommend a maximum of 12 periods before reevaluation."}}),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Vote results")]),s("p",[t._v("This is the current tally for this proposal. Please vote with the buttons below. Repeat votes allowed until close.")]),t.ballotId?s("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.assignee,hash:this.proposal.hash,countdown:!0},on:{"close-proposal":t.onClose}}):t._e()],1),t.ballotId?s("votes-details",{attrs:{ballotId:t.ballotId,size:5}}):t._e(),s("div",{staticClass:"row flex justify-start q-mt-md"},[s("q-btn",{attrs:{label:"Close",rounded:"",color:"grey",unelevated:""},on:{click:t.hide}})],1)],1)},Ce=[],xe={name:"assignment-proposal-view",mixins:[kt["a"],ft["a"]],components:{MarkdownDisplay:Rt,LunarCyclesDisplay:Xt,VoteYesNoAbstain:Ft["a"],VotesDetails:Qt["a"],RawDisplayIcon:At},props:{proposal:{type:Object}},data(){return{role:null,monthly:!1}},computed:r()(r()({},Object(l["c"])("periods",["periods"])),{},{roleId(){return this.getValue(this.proposal,"details","role")},title(){return this.getValue(this.proposal,"details","title")},description(){return this.getValue(this.proposal,"details","description")},assignee(){return this.getValue(this.proposal,"details","assignee")},url(){return this.getValue(this.proposal,"details","url")},tokenHvoice(){const t=parseFloat(this.getValue(this.proposal,"details","hvoice_salary_per_phase"));return this.toAsset(t*(this.monthly?4:1)||0)},tokenHusd(){const t=parseFloat(this.getValue(this.proposal,"details","usd_salary_value_per_phase"));return this.toAsset(t*(this.monthly?4:1)||0)},tokenHypha(){const t=parseFloat(this.getValue(this.proposal,"details","hypha_salary_per_phase"));return this.toAsset(t*(this.monthly?4:1)||0)},salaryCommitted(){return this.getValue(this.proposal,"details","time_share_x100")},salaryDeferred(){return this.getValue(this.proposal,"details","deferred_perc_x100")},usdEquity(){return this.role&&this.getValue(this.role,"details","annual_usd_salary")},startPhase(){const t=this.getValue(this.proposal,"details","start_period");return t?this.periods.find((e=>e.value===t)):null},periodCount(){return this.getValue(this.proposal,"details","period_count")},ballotId(){return this.getValue(this.proposal,"system","ballot_id")}}),methods:r()(r()(r()(r()({},Object(l["b"])("roles",["loadRole"])),Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["d"])("assignments",["removeProposal"])),{},{onClose(){this.removeProposal(this.proposal.hash),this.hide()},hide(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}}),watch:{roleId:{immediate:!0,async handler(t){this.role=t&&await this.loadRole(t)}}}},_e=xe,we=(s("f7c2"),Object(p["a"])(_e,qe,Ce,!1,null,"47d73492",null)),ke=we.exports;g()(we,"components",{QInput:h["a"],QToggle:ve["a"],QBtn:f["a"]});var Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("div",{staticClass:"text-h6 q-mb-sm q-ml-md"},[t._v(t._s(t.title)),s("raw-display-icon",{attrs:{document:t.assignment}})],1),t.description?s("div",{staticClass:"description relative-position"},[s("markdown-display",{attrs:{text:t.description}})],1):t._e(),t.url?s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Supporting documentation")]),s("a",{staticClass:"link q-my-md",attrs:{href:t.url,target:"_blank"}},[t._v(t._s(t._f("truncate")(t.url,60)))])]):t._e(),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Salary")]),s("p",[t._v("Fields below display the payout of this assignment for a "+t._s(this.monthly?"full lunar cycle (ca. 1 month)":"single lunar period (ca. 1 week)")+" as well as % committed and % deferred. The payout is shown as USD equivalent and the corresponding amounts in SEEDS, HVOICE, HYPHA and HUSD.")]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.salaryCommitted,callback:function(e){t.salaryCommitted=e},expression:"salaryCommitted"}}),s("div",{staticClass:"hint"},[t._v("Committed")])],1),s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{staticClass:"bg-grey-4 text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.salaryDeferred,callback:function(e){t.salaryDeferred=e},expression:"salaryDeferred"}}),s("div",{staticClass:"hint"},[t._v("Deferred")])],1)]),s("div",{staticClass:"row q-my-sm"},[s("strong",[t._v("SALARY CALCULATION (BASED ON USD EQUIVALENT OF USD "+t._s(t.usdEquity)+")")])]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-4"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHusd,callback:function(e){t.tokenHusd=e},expression:"tokenHusd"}}),s("div",{staticClass:"hint"},[t._v("HUSD")])],1),s("div",{staticClass:"col-4"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHvoice,callback:function(e){t.tokenHvoice=e},expression:"tokenHvoice"}}),s("div",{staticClass:"hint"},[t._v("HVOICE")])],1),s("div",{staticClass:"col-4"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHypha,callback:function(e){t.tokenHypha=e},expression:"tokenHypha"}}),s("div",{staticClass:"hint"},[t._v("HYPHA")])],1)]),s("div",{staticClass:"row"},[s("q-toggle",{attrs:{label:"Show tokens for a full lunar cycle (ca. 1 month)"},model:{value:t.monthly,callback:function(e){t.monthly=e},expression:"monthly"}})],1)]),s("lunar-cycles-display",{attrs:{startPhase:t.startPhase,periodCount:t.periodCount,text:"This is the lunar start date and periods for this assignment. We recommend a maximum of 12 periods before reevaluation."}}),s("div",{staticClass:"row flex justify-between q-mt-md"},[s("q-btn",{attrs:{label:"Close",rounded:"",color:"grey",unelevated:""},on:{click:t.hide}}),t.account===t.assignee?s("q-btn",{attrs:{label:"Edit",rounded:"",color:"orange",unelevated:""},on:{click:t.editObject}}):t._e()],1)],1)},De=[],Oe=(s("e01a"),{name:"assignment-view",mixins:[kt["a"],ft["a"]],components:{MarkdownDisplay:Rt,LunarCyclesDisplay:Xt,RawDisplayIcon:At},props:{assignment:{type:Object}},data(){return{role:null,monthly:!1}},computed:r()(r()(r()({},Object(l["c"])("accounts",["account"])),Object(l["c"])("periods",["periods"])),{},{roleId(){return this.getValue(this.assignment,"details","role")},title(){return this.getValue(this.assignment,"details","title")},description(){return this.getValue(this.assignment,"details","description")},assignee(){return this.getValue(this.assignment,"details","assignee")},url(){return this.getValue(this.assignment,"details","url")},tokenHvoice(){const t=parseFloat(this.getValue(this.assignment,"details","hvoice_salary_per_phase"));return this.toAsset(t*(this.monthly?4:1)||0)},tokenHusd(){const t=parseFloat(this.getValue(this.assignment,"details","husd_salary_per_phase"));return this.toAsset(t*(this.monthly?4:1)||0)},tokenHypha(){const t=parseFloat(this.getValue(this.assignment,"details","hypha_salary_per_phase"));return this.toAsset(t*(this.monthly?4:1)||0)},salaryCommitted(){return this.getValue(this.assignment,"details","time_share_x100")},usdEquity(){return this.role&&this.getValue(this.role,"details","annual_usd_salary")},salaryDeferred(){return this.getValue(this.assignment,"details","deferred_perc_x100")},startPhase(){const t=this.getValue(this.assignment,"details","start_period");return t?this.periods.find((e=>e.value===t)):null},periodCount(){return this.getValue(this.assignment,"details","period_count")}}),methods:r()(r()(r()({},Object(l["b"])("roles",["loadRole"])),Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{onClose(){this.hide()},hide(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)},editObject(){this.setShowRightSidebar(!0),this.setRightSidebarType({type:"assignmentForm",data:{hash:this.assignment.hash,role:this.role,description:this.description,url:this.url,salaryCommitted:this.salaryCommitted,salaryDeferred:this.salaryDeferred,startPeriod:this.startPhase,periodCount:this.periodCount,edit:!0}})}}),watch:{roleId:{immediate:!0,async handler(t){this.role=t&&await this.loadRole(t)}}}}),Te=Oe,Ve=(s("e824"),Object(p["a"])(Te,Se,De,!1,null,"b29e9b8e",null)),Pe=Ve.exports;g()(Ve,"components",{QInput:h["a"],QToggle:ve["a"],QBtn:f["a"]});var Re=s("d2b4"),Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("q-input",{ref:"title",attrs:{color:"accent",label:"Title",maxlength:"100",rules:[t.rules.required],"lazy-rules":"",outlined:"",dense:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),s("q-editor",{attrs:{fullscreen:t.isFullScreen,"min-height":"100px",toolbar:t.isFullScreen?t.fullScreenToolbar:t.defaultToolbar},on:{"update:fullscreen":function(e){t.isFullScreen=e}},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Supporting documentation")]),s("q-input",{ref:"url",attrs:{color:"accent",label:"URL Link",rules:[t.rules.url],"lazy-rules":"",outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-link",size:"xs"}})]},proxy:!0}]),model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Payout")]),t._m(0),t.manualInput?t._e():s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{ref:"amount",attrs:{type:"number",color:"accent",label:"USD",rules:[t.rules.positiveAmount],"lazy-rules":"",outlined:"",dense:"",readonly:t.manualInput},on:{blur:function(e){t.form.amount=parseFloat(t.form.amount).toFixed(0)}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-dollar-sign",size:"xs"}})]},proxy:!0}],null,!1,126076986),model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1),s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{ref:"deferred",attrs:{type:"number",color:"accent",label:"Deferred",rules:[t.rules.positiveAmount,t.rules.lessOrEqualThan(100)],"lazy-rules":"",outlined:"",dense:"",readonly:t.manualInput},on:{blur:function(e){t.form.deferred=parseFloat(t.form.deferred).toFixed(0)}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-percentage",size:"xs"}})]},proxy:!0}],null,!1,1480461060),model:{value:t.form.deferred,callback:function(e){t.$set(t.form,"deferred",e)},expression:"form.deferred"}})],1)]),t._m(1),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-seeds text-black",attrs:{type:"number",outlined:"",dense:"",readonly:!t.manualInput},model:{value:t.form.seeds,callback:function(e){t.$set(t.form,"seeds",e)},expression:"form.seeds"}}),s("div",{staticClass:"hint"},[t._v("SEEDS")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",dense:"",readonly:!t.manualInput},model:{value:t.form.husd,callback:function(e){t.$set(t.form,"husd",e)},expression:"form.husd"}}),s("div",{staticClass:"hint"},[t._v("HUSD")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",dense:"",readonly:!t.manualInput},model:{value:t.form.hvoice,callback:function(e){t.$set(t.form,"hvoice",e)},expression:"form.hvoice"}}),s("div",{staticClass:"hint"},[t._v("HVOICE")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",dense:"",readonly:!t.manualInput},model:{value:t.form.hypha,callback:function(e){t.$set(t.form,"hypha",e)},expression:"form.hypha"}}),s("div",{staticClass:"hint"},[t._v("HYPHA")])],1)]),s("div",{staticClass:"row"},[s("q-toggle",{attrs:{label:"Edit token fields (toggle back will erase the values)"},model:{value:t.manualInput,callback:function(e){t.manualInput=e},expression:"manualInput"}})],1)]),s("div",{staticClass:"text-center q-mt-sm"},[s("q-btn",{staticClass:"q-mr-sm",attrs:{label:"Cancel",rounded:"",color:"grey",dense:"",unelevated:""},on:{click:t.hideForm}}),s("q-btn",{attrs:{label:"Save draft",rounded:"",color:"green",dense:"",unelevated:"",loading:t.submitting},on:{click:t.onSaveDraft}})],1)],1)},Ee=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Please enter the USD equivalent and % deferral for this contribution â the more you defer to a later date, the higher the bonus will be (see actual salary calculation below or use ourÂ "),s("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"https://drive.google.com/open?id=1xngcdfqhoqE9uCUURybUDU5pCYrI3UjY6aIgf1auD38",target:"_blank"}},[t._v("calculator")]),t._v("). The bottom fields compute the actual payout in SEEDS, HVOICE, HYPHA and HUSD.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row q-my-sm"},[s("strong",[t._v("SALARY CALCULATION")])])}];const je="Hypha applies a pattern of <b>Objectives and Key Results (OKRs) </b>to all contributions. Please state the <b>Objective</b> (something you hoped to accomplish) as well as <b>2-5 Key Results*</b> for this contribution, which are measurable expressions of success justifying this payment. We also recommend to add a link to other supporting documentation in the text box below.";var He={name:"payout-form",mixins:[mt["a"],S["a"],ht,ft["a"]],props:{draft:{type:Object}},data(){return{form:{id:Object(pt["a"])(),title:null,description:je,recipient:null,url:null,amount:0,deferred:0,seeds:0,hvoice:0,hypha:0,husd:0},manualInput:!1,isFullScreen:!1,submitting:!1}},computed:r()(r()({},Object(l["c"])("accounts",["account"])),Object(l["c"])("payouts",["seedsToUsd"])),mounted(){this.form.recipient=this.account},methods:r()(r()(r()({},Object(l["b"])("profiles",["saveDraft"])),Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{async onSaveDraft(){if(await this.resetValidation(this.form),!await this.validate(this.form))return;this.submitting=!0;const t=await this.saveDraft({type:"payout",draft:this.form});t&&(await this.reset(),this.hideForm(),"/documents-proposal/payout"!==this.$router.currentRoute.path&&await this.$router.push({path:"/documents-proposal/payout"})),this.submitting=!1},async reset(){this.form={id:Object(pt["a"])(),title:null,description:je,recipient:null,url:null,amount:0,deferred:0,instant:0,seeds:0,hvoice:0,hypha:0,husd:0},await this.resetValidation(this.form)},hideForm(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)},computeTokens(t,e){const s=isNaN(e)?0:parseFloat(e||0),a=parseFloat(t||0);this.form.hvoice=a,this.form.hypha=(a*s/100*this.$config.contracts.hyphaMultiplier).toFixed(2),this.form.husd=(a*(1-s/100)).toFixed(2)}}),watch:{manualInput:{handler(t){t?(this.form.amount=0,this.form.deferred=0):(this.form.seeds=0,this.form.hypha=0,this.form.husd=0,this.form.hvoice=0)}},"form.amount":{immediate:!0,handler(t){this.manualInput||this.computeTokens(t,this.form.deferred)}},"form.deferred":{immediate:!0,handler(t){this.manualInput||(100===parseFloat(t)&&(this.form.instant="0"),this.computeTokens(this.form.amount,t))}},draft:{immediate:!0,handler(t){t?this.form=r()({},t):this.reset()}}}},$e=He,Ae=(s("3eb7"),Object(p["a"])($e,Ie,Ee,!1,null,"1629647f",null)),Fe=Ae.exports;g()(Ae,"components",{QInput:h["a"],QEditor:gt["a"],QIcon:m["a"],QToggle:ve["a"],QBtn:f["a"]});var Qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("div",{staticClass:"text-h6 q-mb-sm q-ml-md"},[t._v(t._s(t.title)+" ("+t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||"@"+t.recipient)+")"),s("raw-display-icon",{attrs:{document:t.proposal}})],1),t.description?s("div",{staticClass:"description relative-position"},[s("markdown-display",{attrs:{text:t.description}})],1):t._e(),t.url?s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Supporting documentation")]),s("a",{staticClass:"link q-my-md",attrs:{href:t.url,target:"_blank"}},[t._v(t._s(t._f("truncate")(t.url,60)))])]):t._e(),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Payout")]),s("p",[t._v("Fields below display the payout for this contribution as well as % deferred salary. The payout is shown as USD equivalent and the corresponding amounts received in SEEDS, HVOICE, HYPHA and HUSD.")]),t._m(0),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-seeds text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenSeeds,callback:function(e){t.tokenSeeds=e},expression:"tokenSeeds"}}),s("div",{staticClass:"hint"},[t._v("SEEDS")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHusd,callback:function(e){t.tokenHusd=e},expression:"tokenHusd"}}),s("div",{staticClass:"hint"},[t._v("HUSD")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHvoice,callback:function(e){t.tokenHvoice=e},expression:"tokenHvoice"}}),s("div",{staticClass:"hint"},[t._v("HVOICE")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHypha,callback:function(e){t.tokenHypha=e},expression:"tokenHypha"}}),s("div",{staticClass:"hint"},[t._v("HYPHA")])],1)])]),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Vote results")]),s("p",[t._v("This is the current tally for this proposal. Please vote with the buttons below. Repeat votes allowed until close.")]),t.ballotId?s("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.recipient,hash:this.proposal.hash,countdown:!0},on:{"close-proposal":t.onClose}}):t._e()],1),t.ballotId?s("votes-details",{attrs:{ballotId:t.ballotId,size:5}}):t._e(),s("div",{staticClass:"row flex justify-between q-mt-md"},[s("q-btn",{attrs:{label:"Close",rounded:"",color:"grey",unelevated:""},on:{click:t.hide}})],1)],1)},Ne=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row q-my-sm"},[s("strong",[t._v("SALARY CALCULATION")])])}],Ue={name:"payout-proposal-view",mixins:[kt["a"],ft["a"]],components:{MarkdownDisplay:Rt,RawDisplayIcon:At,VoteYesNoAbstain:Ft["a"],VotesDetails:Qt["a"]},props:{proposal:{type:Object}},data(){return{profile:null}},computed:r()(r()({},Object(l["c"])("accounts",["isAuthenticated","isAdmin","isMember","account"])),{},{ballotId(){return this.getValue(this.proposal,"system","ballot_id")},recipient(){return this.getValue(this.proposal,"details","recipient")},title(){return this.getValue(this.proposal,"details","title")},description(){return this.getValue(this.proposal,"details","description")},url(){return this.getValue(this.proposal,"details","url")},tokenSeeds(){const t=parseFloat(this.getValue(this.proposal,"details","seeds_amount"));return this.toAsset(t||0)},tokenHvoice(){const t=parseFloat(this.getValue(this.proposal,"details","hvoice_amount"));return this.toAsset(t||0)},tokenHusd(){const t=parseFloat(this.getValue(this.proposal,"details","husd_amount"));return this.toAsset(t||0)},tokenHypha(){const t=parseFloat(this.getValue(this.proposal,"details","hypha_amount"));return this.toAsset(t||0)}}),methods:r()(r()(r()(r()({},Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["d"])("payouts",["removeProposal"])),Object(l["b"])("profiles",["getPublicProfile"])),{},{onClose(){this.removeProposal(this.proposal.hash),this.hide()},hide(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}}),watch:{recipient:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}}}},Ye=Ue,Be=(s("7c49"),Object(p["a"])(Ye,Qe,Ne,!1,null,"1ff4906a",null)),Le=Be.exports;g()(Be,"components",{QInput:h["a"],QBtn:f["a"]});var Me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("div",{staticClass:"text-h6 q-mb-sm q-ml-md"},[t._v(t._s(t.title)+" ("+t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||"@"+t.recipient)+")"),s("raw-display-icon",{attrs:{document:t.payout}})],1),t.description?s("div",{staticClass:"description relative-position"},[s("markdown-display",{attrs:{text:t.description}})],1):t._e(),t.url?s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Supporting documentation")]),s("a",{staticClass:"link q-my-md",attrs:{href:t.url,target:"_blank"}},[t._v(t._s(t._f("truncate")(t.url,60)))])]):t._e(),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Payout")]),s("p",[t._v("Fields below display the payout for this contribution as well as % deferred salary. The payout is shown as USD equivalent and the corresponding amounts received in SEEDS, HVOICE, HYPHA and HUSD.")]),t._m(0),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-seeds text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenSeeds,callback:function(e){t.tokenSeeds=e},expression:"tokenSeeds"}}),s("div",{staticClass:"hint"},[t._v("SEEDS")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHusd,callback:function(e){t.tokenHusd=e},expression:"tokenHusd"}}),s("div",{staticClass:"hint"},[t._v("HUSD")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHvoice,callback:function(e){t.tokenHvoice=e},expression:"tokenHvoice"}}),s("div",{staticClass:"hint"},[t._v("HVOICE")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{outlined:"",dense:"",readonly:""},model:{value:t.tokenHypha,callback:function(e){t.tokenHypha=e},expression:"tokenHypha"}}),s("div",{staticClass:"hint"},[t._v("HYPHA")])],1)])]),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Vote results")]),s("p",[t._v("This is the current tally for this proposal. Please vote with the buttons below. Repeat votes allowed until close.")]),t.ballotId?s("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.recipient,hash:this.payout.hash}}):t._e()],1),t.ballotId?s("votes-details",{attrs:{ballotId:t.ballotId,size:5}}):t._e(),s("div",{staticClass:"row flex justify-between q-mt-md"},[s("q-btn",{attrs:{label:"Close",rounded:"",color:"grey",unelevated:""},on:{click:t.hide}})],1)],1)},ze=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row q-my-sm"},[s("strong",[t._v("SALARY CALCULATION")])])}],We={name:"payout-view",mixins:[kt["a"],ft["a"]],components:{MarkdownDisplay:Rt,RawDisplayIcon:At,VoteYesNoAbstain:Ft["a"],VotesDetails:Qt["a"]},props:{payout:{type:Object}},data(){return{profile:null}},computed:{ballotId(){return this.getValue(this.payout,"system","ballot_id")},title(){return this.getValue(this.payout,"details","title")},url(){return this.getValue(this.payout,"details","url")},recipient(){return this.getValue(this.payout,"details","recipient")},description(){return this.getValue(this.payout,"details","description")},tokenSeeds(){const t=parseFloat(this.getValue(this.payout,"details","seeds_amount"));return this.toAsset(t||0)},tokenHvoice(){const t=parseFloat(this.getValue(this.payout,"details","hvoice_amount"));return this.toAsset(t||0)},tokenHusd(){const t=parseFloat(this.getValue(this.payout,"details","hypha_amount"));return this.toAsset(t||0)},tokenHypha(){const t=parseFloat(this.getValue(this.payout,"details","husd_amount"));return this.toAsset(t||0)}},methods:r()(r()(r()({},Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["b"])("profiles",["getPublicProfile"])),{},{hide(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}}),watch:{recipient:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}}}},Ke=We,Ge=(s("01f7"),Object(p["a"])(Ke,Me,ze,!1,null,"695a7cb4",null)),Je=Ge.exports;g()(Ge,"components",{QInput:h["a"],QBtn:f["a"]});var Xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs flex flex-center full-height column"},[t._v("Please fill your profile first before going any further"),s("q-btn",{staticClass:"q-mt-md",attrs:{to:"/@"+t.account,label:"Complete my profile",unelevated:"",color:"primary"}})],1)},Ze=[],ts={name:"profile-required-side",computed:r()({},Object(l["c"])("accounts",["account"]))},es=ts,ss=Object(p["a"])(es,Xe,Ze,!1,null,"0e0fc2d9",null),as=ss.exports;g()(ss,"components",{QBtn:f["a"]});var is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("q-input",{ref:"title",attrs:{color:"accent",label:"Title",maxlength:"100",rules:[t.rules.required],"lazy-rules":"",outlined:"",dense:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),s("q-editor",{attrs:{fullscreen:t.isFullScreen,"min-height":"100px",toolbar:t.isFullScreen?t.fullScreenToolbar:t.defaultToolbar},on:{"update:fullscreen":function(e){t.isFullScreen=e}},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Badge restrictions")]),s("div",{staticClass:"row q-col-gutter-sm"},[s("div",{staticClass:"col-md-6 col-xs-12"},[s("q-input",{ref:"maxCycles",attrs:{label:"Max cycles",rules:[t.rules.required,t.rules.greaterThan(0)],"lazy-rules":"",outlined:"",dense:""},model:{value:t.form.maxCycles,callback:function(e){t.$set(t.form,"maxCycles",e)},expression:"form.maxCycles"}})],1),s("div",{staticClass:"col-md-6 col-xs-12"},[t._v("This value determines the maximum amount of cycles a badge holder can apply for.")])])]),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Token coefficients")]),s("p",[t._v("Badges are a token of appreciation and achievement but they donât create value unless you apply them to a contribution or assignment. The value is calculated by multiplying a percentage for each token in the boxes below, with 100% equal to no change in the compensation.")]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{ref:"seeds",staticClass:"bd-seeds text-black",attrs:{type:"number",rules:[t.rules.required,t.rules.greaterThanOrEqual(70),t.rules.lessOrEqualThan(130)],"lazy-rules":"",outlined:"",dense:"","bg-color":"seeds"},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"img:app/icons/seeds.png",size:"xs"}})]},proxy:!0}]),model:{value:t.form.seeds,callback:function(e){t.$set(t.form,"seeds",e)},expression:"form.seeds"}}),s("div",{staticClass:"hint"},[t._v("Deferred Seeds")])],1),s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{ref:"husd",staticClass:"bd-liquid text-black",attrs:{type:"number",rules:[t.rules.required,t.rules.greaterThanOrEqual(70),t.rules.lessOrEqualThan(130)],"lazy-rules":"",outlined:"",dense:"","bg-color":"liquid"},model:{value:t.form.husd,callback:function(e){t.$set(t.form,"husd",e)},expression:"form.husd"}}),s("div",{staticClass:"hint"},[t._v("HUSD")])],1),s("div",{staticClass:"col-6"},[s("q-input",{ref:"hvoice",staticClass:"bd-liquid text-black",attrs:{type:"number",rules:[t.rules.required,t.rules.greaterThanOrEqual(70),t.rules.lessOrEqualThan(130)],"lazy-rules":"",outlined:"",dense:"","bg-color":"liquid"},model:{value:t.form.hvoice,callback:function(e){t.$set(t.form,"hvoice",e)},expression:"form.hvoice"}}),s("div",{staticClass:"hint"},[t._v("HVOICE")])],1),s("div",{staticClass:"col-6"},[s("q-input",{ref:"hypha",staticClass:"bd-liquid text-black",attrs:{type:"number",rules:[t.rules.required,t.rules.greaterThanOrEqual(70),t.rules.lessOrEqualThan(130)],"lazy-rules":"",outlined:"",dense:"","bg-color":"liquid"},model:{value:t.form.hypha,callback:function(e){t.$set(t.form,"hypha",e)},expression:"form.hypha"}}),s("div",{staticClass:"hint"},[t._v("HYPHA")])],1)])]),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Badge icon")]),t._m(0),s("q-input",{ref:"icon",attrs:{color:"accent",label:"Icon url",rules:[t.rules.required,t.rules.url],"lazy-rules":"",outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-link",size:"xs"}})]},proxy:!0}]),model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Lunar cycles")]),s("p",[t._v("This is the lunar start and re-evaluation date for this badge, followed by the number of lunar cycles. We recommend a maximum of 12 periods before reevaluation.")]),s("div",{staticClass:"row q-col-gutter-sm"},[s("div",{staticClass:"col-xs-12 col-md-6"},[s("period-select",{ref:"startPeriod",attrs:{value:t.form.startPeriod,period:t.form.startPeriod&&t.form.startPeriod.value,periods:t.form.edit?t.periodOptionsEditProposal:t.periodOptionsStartProposal.slice(0,8),label:"Start phase",required:""},on:{"update:value":function(e){return t.$set(t.form,"startPeriod",e)}}})],1),s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{ref:"periodCount",attrs:{label:"Number of periods",type:"number",outlined:"",dense:"",rules:[t.rules.required,t.rules.greaterThan(0)],"lazy-rules":""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-hashtag",size:"xs"}})]},proxy:!0}]),model:{value:t.form.periodCount,callback:function(e){t.$set(t.form,"periodCount",e)},expression:"form.periodCount"}})],1)])]),s("div",{staticClass:"text-center q-mt-sm"},[s("q-btn",{staticClass:"q-mr-sm",attrs:{label:"Cancel",rounded:"",color:"grey",dense:"",unelevated:""},on:{click:t.hideForm}}),s("q-btn",{attrs:{label:"Save draft",rounded:"",color:"green",dense:"",unelevated:"",loading:t.submitting},on:{click:t.onSaveDraft}})],1)],1)},os=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Please add the link to the badge icon here. Our preferred place to store this icons are atÂ "),s("a",{attrs:{href:"https://assets.hypha.earth/minio/badges/",target:"_blank"}},[t._v("Minio")])])}];const rs="<b>Description</b><div>Describe the badge and why it should exist.</div><div><br></div><div><b>Expectations</b></div><div>List what criteria need to be fulfilled in order to receive the badge. This can be anything from skills, to seniority, to assessments, to activities.</div>";var ls={name:"badge-form",mixins:[mt["a"],S["a"]],components:{PeriodSelect:he},props:{draft:{type:Object}},data(){return{form:{title:null,description:rs,icon:null,maxCycles:null,seeds:null,hvoice:null,hypha:null,husd:null,startPeriod:null,periodCount:null},isFullScreen:!1,submitting:!1}},computed:r()({},Object(l["c"])("periods",["periodOptionsStartProposal","periodOptionsEditProposal"])),methods:r()(r()(r()({},Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["b"])("profiles",["saveDraft"])),{},{async onSaveDraft(){if(await this.resetValidation(this.form),!await this.validate(this.form))return;this.submitting=!0;const t=await this.saveDraft({type:"badge",draft:this.form});t&&(await this.reset(),this.hideForm(),"/documents-proposal/badge"!==this.$router.currentRoute.path&&await this.$router.push({path:"/documents-proposal/badge"})),this.submitting=!1},async reset(){this.form={id:Object(pt["a"])(),title:null,icon:null,description:rs,maxCycles:null,seeds:null,hvoice:null,hypha:null,husd:null,startPeriod:null,periodCount:null,edit:!1},await this.resetValidation(this.form)},hideForm(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}}),watch:{draft:{immediate:!0,handler(t){t?this.form=r()({},t):this.reset()}}}},ns=ls,cs=(s("ac86"),Object(p["a"])(ns,is,os,!1,null,"82e8d8f4",null)),ds=cs.exports;g()(cs,"components",{QInput:h["a"],QEditor:gt["a"],QIcon:m["a"],QBtn:f["a"]});var us=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("div",{staticClass:"text-h6 q-mb-sm q-ml-md"},[t._v(t._s(t.title))]),s("div",{staticClass:"text-center"},[t.icon?s("q-img",{staticClass:"avatar",attrs:{src:t.icon}}):t._e()],1),t.description?s("div",{staticClass:"description relative-position"},[s("markdown-display",{attrs:{text:t.description}})],1):t._e(),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Badge restrictions")]),s("div",{staticClass:"row q-col-gutter-sm"},[s("div",{staticClass:"col-md-6 col-xs-12"},[s("q-input",{attrs:{label:"Max cycles",outlined:"",dense:""},model:{value:t.maxCycles,callback:function(e){t.maxCycles=e},expression:"maxCycles"}})],1),s("div",{staticClass:"col-md-6 col-xs-12"},[t._v("This value determines the maximum amount of cycles a badge holder can apply for.")])])]),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Token coefficients")]),s("p",[t._v("Badges are a token of appreciation and achievement but they donât create value unless you apply them to a contribution or assignment. The value is calculated by multiplying a percentage for each token in the boxes below, with 100% equal to no change in the compensation.")]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-seeds text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"img:app/icons/seeds.png",size:"xs"}})]},proxy:!0}]),model:{value:t.seeds,callback:function(e){t.seeds=e},expression:"seeds"}}),s("div",{staticClass:"hint"},[t._v("Deferred Seeds")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},model:{value:t.husd,callback:function(e){t.husd=e},expression:"husd"}}),s("div",{staticClass:"hint"},[t._v("HUSD")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},model:{value:t.hvoice,callback:function(e){t.hvoice=e},expression:"hvoice"}}),s("div",{staticClass:"hint"},[t._v("HVOICE")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",readonly:"",outlined:"",dense:""},model:{value:t.hypha,callback:function(e){t.hypha=e},expression:"hypha"}}),s("div",{staticClass:"hint"},[t._v("HYPHA")])],1)])]),s("lunar-cycles-display",{attrs:{startPhase:t.startPhase,periodCount:t.periodCount,text:"This is the lunar start and re-evaluation date for this badge, followed by the number of lunar cycles. We recommend a maximum of 12 periods before reevaluation."}}),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Vote results")]),s("p",[t._v("This is the current tally for this proposal. Please vote with the buttons below. Repeat votes allowed until close.")]),t.ballotId?s("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.proposer,hash:this.proposal.hash,countdown:!0},on:{"close-proposal":t.onClose}}):t._e()],1),t.ballotId?s("votes-details",{attrs:{ballotId:t.ballotId,size:5}}):t._e(),s("div",{staticClass:"row flex justify-start q-mt-md"},[s("q-btn",{attrs:{label:"Close",rounded:"",color:"grey",unelevated:""},on:{click:t.hide}})],1)],1)},ps=[],hs={name:"badge-proposal-view",mixins:[kt["a"]],components:{MarkdownDisplay:Rt,LunarCyclesDisplay:Xt,VoteYesNoAbstain:Ft["a"],VotesDetails:Qt["a"]},props:{proposal:{type:Object}},computed:r()(r()({},Object(l["c"])("periods",["periods"])),{},{title(){return this.getValue(this.proposal,"details","title")},description(){return this.getValue(this.proposal,"details","description")},icon(){return this.getValue(this.proposal,"details","icon")},maxCycles(){return this.getValue(this.proposal,"details","max_cycles")},seeds(){return this.getValue(this.proposal,"details","seeds_coefficient_x10000")/100},hypha(){return this.getValue(this.proposal,"details","hypha_coefficient_x10000")/100},hvoice(){return this.getValue(this.proposal,"details","hvoice_coefficient_x10000")/100},husd(){return this.getValue(this.proposal,"details","husd_coefficient_x10000")/100},startPhase(){const t=this.getValue(this.proposal,"details","start_period");return t?this.periods.find((e=>e.value===t)):null},periodCount(){return this.getValue(this.proposal,"details","period_count")},proposer(){return this.getValue(this.proposal,"system","proposer")},ballotId(){return this.getValue(this.proposal,"system","ballot_id")}}),methods:r()(r()(r()({},Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["d"])("badges",["removeProposal"])),{},{onClose(){this.removeProposal(this.proposal.hash),this.hide()},hide(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}})},ms=hs,fs=(s("9eb4"),Object(p["a"])(ms,us,ps,!1,null,"59aaedb9",null)),bs=fs.exports;g()(fs,"components",{QImg:$["a"],QInput:h["a"],QIcon:m["a"],QBtn:f["a"]});var vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("div",{staticClass:"text-h6 q-mb-sm q-ml-md"},[t._v(t._s(t.title))]),s("div",{staticClass:"text-center"},[t.icon?s("q-img",{staticClass:"avatar",attrs:{src:t.icon}}):t._e()],1),t.description?s("div",{staticClass:"description relative-position"},[s("markdown-display",{attrs:{text:t.description}})],1):t._e(),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Badge restrictions")]),s("div",{staticClass:"row q-col-gutter-sm"},[s("div",{staticClass:"col-md-6 col-xs-12"},[s("q-input",{attrs:{label:"Max cycles",outlined:"",dense:"",readonly:""},model:{value:t.maxCycles,callback:function(e){t.maxCycles=e},expression:"maxCycles"}})],1),s("div",{staticClass:"col-md-6 col-xs-12"},[t._v("This value determines the maximum amount of cycles a badge holder can apply for.")])])]),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Token coefficients")]),s("p",[t._v("Badges are a token of appreciation and achievement but they donât create value unless you apply them to a contribution or assignment. The value is calculated by multiplying a percentage for each token in the boxes below, with 100% equal to no change in the compensation.")]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-seeds text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"img:app/icons/seeds.png",size:"xs"}})]},proxy:!0}]),model:{value:t.seeds,callback:function(e){t.seeds=e},expression:"seeds"}}),s("div",{staticClass:"hint"},[t._v("Deferred Seeds")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},model:{value:t.husd,callback:function(e){t.husd=e},expression:"husd"}}),s("div",{staticClass:"hint"},[t._v("HUSD")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},model:{value:t.hvoice,callback:function(e){t.hvoice=e},expression:"hvoice"}}),s("div",{staticClass:"hint"},[t._v("HVOICE")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",readonly:"",outlined:"",dense:""},model:{value:t.hypha,callback:function(e){t.hypha=e},expression:"hypha"}}),s("div",{staticClass:"hint"},[t._v("HYPHA")])],1)])]),s("lunar-cycles-display",{attrs:{startPhase:t.startPhase,endPhase:t.endPhase,text:"This is the lunar start and re-evaluation date for this badge, followed by the number of lunar cycles. We recommend a maximum of 12 periods before reevaluation."}}),s("div",{staticClass:"row flex justify-start q-mt-md"},[s("q-btn",{attrs:{label:"Close",rounded:"",color:"grey",unelevated:""},on:{click:t.hide}})],1)],1)},ys=[],gs={name:"badge-view",mixins:[kt["a"]],components:{MarkdownDisplay:Rt,LunarCyclesDisplay:Xt,VoteYesNoAbstain:Ft["a"]},props:{badge:{type:Object}},computed:r()(r()({},Object(l["c"])("periods",["periods"])),{},{title(){return this.getValue(this.badge,"details","title")},description(){return this.getValue(this.badge,"details","description")},icon(){return this.getValue(this.badge,"details","icon")},maxCycles(){return this.getValue(this.badge,"details","max_cycles")},seeds(){return this.getValue(this.badge,"details","seeds_coefficient_x10000")/100},hypha(){return this.getValue(this.badge,"details","hypha_coefficient_x10000")/100},hvoice(){return this.getValue(this.badge,"details","hvoice_coefficient_x10000")/100},husd(){return this.getValue(this.badge,"details","husd_coefficient_x10000")/100},startPhase(){const t=this.getValue(this.badge,"details","start_period");return t?this.periods.find((e=>e.period_id===t)):null},endPhase(){const t=this.getValue(this.badge,"details","end_period");return t?this.periods.find((e=>e.period_id===t)):null},proposer(){return this.getValue(this.badge,"system","proposer")}}),methods:r()(r()(r()({},Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["d"])("badges",["removeProposal"])),{},{onClose(){this.removeProposal(),this.hide()},hide(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}})},qs=gs,Cs=(s("6f83"),Object(p["a"])(qs,vs,ys,!1,null,"69a6567c",null)),xs=Cs.exports;g()(Cs,"components",{QImg:$["a"],QInput:h["a"],QIcon:m["a"],QBtn:f["a"]});var _s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("strong",{staticClass:"title"},[t._v(t._s(t.form.title))]),s("q-editor",{attrs:{fullscreen:t.isFullScreen,"min-height":"100px",toolbar:t.isFullScreen?t.fullScreenToolbar:t.defaultToolbar},on:{"update:fullscreen":function(e){t.isFullScreen=e}},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Token coefficients")]),s("p",[t._v("Badges are a token of appreciation and achievement but they donât create value unless you apply them to a contribution or assignment. The value is calculated by multiplying a percentage for each token in the boxes below, with 100% equal to no change in the compensation.")]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-seeds text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"img:app/icons/seeds.png",size:"xs"}})]},proxy:!0}]),model:{value:t.form.seeds,callback:function(e){t.$set(t.form,"seeds",e)},expression:"form.seeds"}}),s("div",{staticClass:"hint"},[t._v("Deferred Seeds")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},model:{value:t.form.husd,callback:function(e){t.$set(t.form,"husd",e)},expression:"form.husd"}}),s("div",{staticClass:"hint"},[t._v("HUSD")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},model:{value:t.form.hvoice,callback:function(e){t.$set(t.form,"hvoice",e)},expression:"form.hvoice"}}),s("div",{staticClass:"hint"},[t._v("HVOICE")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",readonly:"",outlined:"",dense:""},model:{value:t.form.hypha,callback:function(e){t.$set(t.form,"hypha",e)},expression:"form.hypha"}}),s("div",{staticClass:"hint"},[t._v("HYPHA")])],1)])]),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Lunar cycles")]),s("p",[t._v("This is the lunar start and re-evaluation date for this badge assignment, followed by the number of lunar cycles. We recommend a maximum of 12 periods before reevaluation.")]),s("div",{staticClass:"row q-col-gutter-sm"},[s("div",{staticClass:"col-xs-12 col-md-6"},[s("period-select",{ref:"startPeriod",attrs:{value:t.form.startPeriod,period:t.form.startPeriod&&t.form.startPeriod.value,periods:t.form.edit?t.periodOptionsEditProposal:t.periodOptionsStartProposal.slice(0,8),label:"Start phase",required:""},on:{"update:value":function(e){return t.$set(t.form,"startPeriod",e)}}})],1),s("div",{staticClass:"col-xs-12 col-md-6"},[s("q-input",{attrs:{label:"Number of periods",type:"number",outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"fas fa-hashtag",size:"xs"}})]},proxy:!0}]),model:{value:t.form.periodCount,callback:function(e){t.$set(t.form,"periodCount",e)},expression:"form.periodCount"}})],1)])]),s("div",{staticClass:"text-center q-mt-sm"},[s("q-btn",{staticClass:"q-mr-sm",attrs:{label:"Cancel",rounded:"",color:"grey",dense:"",unelevated:""},on:{click:t.hideForm}}),s("q-btn",{attrs:{label:"Save draft",rounded:"",color:"green",dense:"",unelevated:"",loading:t.submitting},on:{click:t.onSaveDraft}})],1)],1)},ws=[];const ks="Please provide evidence that you meet or exceed the expectations set for this badge.";var Ss={name:"badge-assignment-form",mixins:[mt["a"],S["a"]],components:{PeriodSelect:he},props:{draft:{type:Object}},data(){return{form:{badge:null,seeds:0,hvoice:0,hypha:0,husd:0,title:null,description:ks,startPeriod:null,periodCount:null},isFullScreen:!1,submitting:!1}},computed:r()({},Object(l["c"])("periods",["periodOptionsStartProposal","periodOptionsEditProposal"])),methods:r()(r()(r()({},Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["b"])("profiles",["saveDraft"])),{},{async onSaveDraft(){if(await this.resetValidation(this.form),!await this.validate(this.form))return;this.submitting=!0;const t=await this.saveDraft({type:"badgeAssignment",draft:this.form});t&&(await this.reset(),this.hideForm(),"/documents-proposal/badgeAssignment"!==this.$router.currentRoute.path&&await this.$router.push({path:"/documents-proposal/badgeAssignment"})),this.submitting=!1},async reset(){this.form={id:Object(pt["a"])(),title:null,description:ks,startPeriod:null,periodCount:null,edit:!1},await this.resetValidation(this.form)},hideForm(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}}),watch:{draft:{immediate:!0,handler(t){t?"new"===t.type?(this.reset(),this.form.badge=t.badge.hash,this.form.title=t.badge.title,this.form.seeds=t.badge.seeds,this.form.hvoice=t.badge.hvoice,this.form.hypha=t.badge.hypha,this.form.husd=t.badge.husd):this.form=r()({},t):this.reset()}}}},Ds=Ss,Os=(s("adef"),Object(p["a"])(Ds,_s,ws,!1,null,"00eb315c",null)),Ts=Os.exports;g()(Os,"components",{QEditor:gt["a"],QInput:h["a"],QIcon:m["a"],QBtn:f["a"]});var Vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-xs"},[s("div",{staticClass:"text-h6 q-mb-sm q-ml-md"},[t._v(t._s(t.title))]),t.description?s("div",{staticClass:"description relative-position"},[s("markdown-display",{attrs:{text:t.description}})],1):t._e(),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Token coefficients")]),s("p",[t._v("Badges are a token of appreciation and achievement but they donât create value unless you apply them to a contribution or assignment. The value is calculated by multiplying a percentage for each token in the boxes below, with 100% equal to no change in the compensation.")]),s("div",{staticClass:"row q-col-gutter-xs"},[s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-seeds text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"img:app/icons/seeds.png",size:"xs"}})]},proxy:!0}]),model:{value:t.seeds,callback:function(e){t.seeds=e},expression:"seeds"}}),s("div",{staticClass:"hint"},[t._v("Deferred Seeds")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},model:{value:t.husd,callback:function(e){t.husd=e},expression:"husd"}}),s("div",{staticClass:"hint"},[t._v("HUSD")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",outlined:"",readonly:"",dense:""},model:{value:t.hvoice,callback:function(e){t.hvoice=e},expression:"hvoice"}}),s("div",{staticClass:"hint"},[t._v("HVOICE")])],1),s("div",{staticClass:"col-6"},[s("q-input",{staticClass:"bg-liquid text-black",attrs:{type:"number",readonly:"",outlined:"",dense:""},model:{value:t.hypha,callback:function(e){t.hypha=e},expression:"hypha"}}),s("div",{staticClass:"hint"},[t._v("HYPHA")])],1)])]),s("lunar-cycles-display",{attrs:{startPhase:t.startPhase,periodCount:t.periodCount,text:"This is the lunar start and re-evaluation date for this badge assignment, followed by the number of lunar cycles. We recommend a maximum of 12 periods before reevaluation."}}),s("fieldset",{staticClass:"q-mt-sm"},[s("legend",[t._v("Vote results")]),s("p",[t._v("This is the current tally for this proposal. Please vote with the buttons below. Repeat votes allowed until close.")]),t.ballotId?s("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.proposer,hash:this.proposal.hash,countdown:!0},on:{"close-proposal":t.onClose}}):t._e()],1),t.ballotId?s("votes-details",{attrs:{ballotId:t.ballotId,size:5}}):t._e(),s("div",{staticClass:"row flex justify-start q-mt-md"},[s("q-btn",{attrs:{label:"Close",rounded:"",color:"grey",unelevated:""},on:{click:t.hide}})],1)],1)},Ps=[],Rs={name:"badge-assignment-proposal-view",mixins:[kt["a"]],components:{MarkdownDisplay:Rt,LunarCyclesDisplay:Xt,VoteYesNoAbstain:Ft["a"],VotesDetails:Qt["a"]},props:{proposal:{type:Object}},data(){return{badge:null}},computed:r()(r()({},Object(l["c"])("periods",["periods"])),{},{badgeHash(){return this.getValue(this.proposal,"details","badge")},seeds(){return this.badge&&this.getValue(this.badge,"details","seeds_coefficient_x10000")/100},hypha(){return this.badge&&this.getValue(this.badge,"details","hypha_coefficient_x10000")/100},hvoice(){return this.badge&&this.getValue(this.badge,"details","hvoice_coefficient_x10000")/100},husd(){return this.badge&&this.getValue(this.badge,"details","husd_coefficient_x10000")/100},title(){return this.getValue(this.proposal,"details","title")},description(){return this.getValue(this.proposal,"details","description")},startPhase(){const t=this.getValue(this.proposal,"details","start_period");return t?this.periods.find((e=>e.value===t)):null},periodCount(){return this.getValue(this.proposal,"details","period_count")},proposer(){return this.getValue(this.proposal,"system","proposer")},ballotId(){return this.getValue(this.proposal,"system","ballot_id")}}),methods:r()(r()(r()(r()({},Object(l["b"])("badges",["loadBadge"])),Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["d"])("badges",["removeProposal"])),{},{onClose(){this.removeProposal(this.proposal.hash),this.hide()},hide(){this.setShowRightSidebar(!1),this.setRightSidebarType(null)}}),watch:{badgeHash:{immediate:!0,async handler(t){t&&(this.badge=await this.loadBadge(t))}}}},Is=Rs,Es=(s("3050"),Object(p["a"])(Is,Vs,Ps,!1,null,"031a7916",null)),js=Es.exports;g()(Es,"components",{QInput:h["a"],QIcon:m["a"],QBtn:f["a"]});var Hs={name:"right-sidebar",components:{RightMenuNotifications:ct,RoleForm:xt,RoleProposalView:Bt,RoleView:se,AssignmentForm:ge,AssignmentProposalView:ke,AssignmentView:Pe,ProfileForm:Re["default"],PayoutForm:Fe,PayoutProposalView:Le,PayoutView:Je,ProfileRequired:as,BadgeForm:ds,BadgeProposalView:bs,BadgeView:xs,BadgeAssignmentForm:Ts,BadgeAssignmentProposalView:js},data(){return{display:!1}},computed:r()({},Object(l["c"])("layout",["isShowRightSidebar","rightSidebarType","contentData"])),methods:r()({},Object(l["d"])("layout",["setShowRightSidebar"])),watch:{isShowRightSidebar:{immediate:!0,handler(t){this.display=t}}}},$s=Hs,As=s("9404"),Fs=Object(p["a"])($s,et,st,!1,null,"3559caa8",null),Qs=Fs.exports;g()(Fs,"components",{QDrawer:As["a"]});var Ns=s("7276"),Us=s.n(Ns),Ys=s("f303"),Bs=s("2a19");const{height:Ls,width:Ms}=Ys["c"];var zs={name:"main-layout",components:{RightMenuGuest:C,RightMenuAuthenticated:L,LeftMenu:tt,RightSidebar:Qs},data(){return{reveal:!1,left:!this.$q.platform.is.mobile}},computed:r()(r()(r()({},Object(l["c"])("accounts",["isAuthenticated","account"])),Object(l["c"])("layout",["rightSidebarType","breadcrumbs"])),Object(l["c"])("notifications",["successCount","errorCount"])),methods:r()(r()(r()(r()({},Object(l["d"])("notifications",["initNotifications","unmarkRead","unmarkNew"])),Object(l["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),Object(l["b"])("accounts",["autoLogin"])),{},{toggleNotifications(){"notifications"===this.rightSidebarType?(this.unmarkRead(),this.setShowRightSidebar(!1),this.setRightSidebarType(null)):(this.setShowRightSidebar(!0),this.setRightSidebarType("notifications"))}}),async mounted(){let t="Greys";const e=(new Date).getHours();e>=5&&e<8?t="YlOrRd":e>=8&&e<11?t="OrRd":e>=11&&e<14?t="Blues":e>=14&&e<17?t="BuPu":e>=17&&e<18?t="PuRd":e>=18&&e<19&&(t="RdPu");try{const e=Us()({width:Ms(this.$refs.layout.$el),height:Ls(this.$refs.layout.$el),xColors:t,yColors:"match"});e.toSVG(document.getElementById("bg"))}catch(s){}this.initNotifications(),await this.autoLogin(this.$router.currentRoute.path)||(localStorage.getItem("known-user")||"/welcome"===this.$router.currentRoute.path?"/"===this.$router.currentRoute.path&&await this.$router.push({path:"/dashboard"}):await this.$router.push({path:"/welcome"})),localStorage.getItem("refreshNotif")&&(localStorage.removeItem("refreshNotif"),Bs["a"].create({color:"orange",message:"An update is available, please refresh.",position:"bottom",icon:"fas fa-warning notif-icon",timeout:3e4,actions:[{label:"Refresh",color:"white",handler:()=>{document.location.reload(!0)}}]}))},watch:{"$route.meta.single":{immediate:!0,handler(t){this.reveal=!t}}}},Ws=zs,Ks=(s("36d9"),s("4d5a")),Gs=s("e359"),Js=s("65c6"),Xs=s("6ac5"),Zs=s("09e3"),ta=Object(p["a"])(Ws,a,i,!1,null,"4a1a3a83",null);e["default"]=ta.exports;g()(ta,"components",{QLayout:Ks["a"],QHeader:Gs["a"],QToolbar:Js["a"],QToolbarTitle:Xs["a"],QBtn:f["a"],QIcon:m["a"],QDrawer:As["a"],QPageContainer:Zs["a"]})},"779f":function(t,e,s){},"7c49":function(t,e,s){"use strict";var a=s("779f"),i=s.n(a);i.a},"86d0":function(t,e,s){"use strict";var a=s("9097"),i=s.n(a);i.a},8933:function(t,e,s){"use strict";var a=s("5598"),i=s.n(a);i.a},"8fbc":function(t,e,s){},9020:function(t,e,s){"use strict";var a=s("2a75"),i=s.n(a);i.a},9097:function(t,e,s){},9436:function(t,e,s){t.exports=s.p+"img/hypha-logo-light.2068ad37.png"},"96c9":function(t,e,s){},9744:function(t,e,s){},"9ba9":function(t,e,s){"use strict";var a=s("9744"),i=s.n(a);i.a},"9dcf":function(t,e,s){},"9eb4":function(t,e,s){"use strict";var a=s("67ca"),i=s.n(a);i.a},a509:function(t,e,s){},ac86:function(t,e,s){"use strict";var a=s("450a"),i=s.n(a);i.a},adef:function(t,e,s){"use strict";var a=s("cb5d"),i=s.n(a);i.a},af29:function(t,e,s){"use strict";var a=s("96c9"),i=s.n(a);i.a},b81c:function(t,e,s){"use strict";var a=s("6ad6"),i=s.n(a);i.a},c261:function(t,e,s){},c882:function(t,e,s){},cb5d:function(t,e,s){},ded08:function(t,e,s){},e824:function(t,e,s){"use strict";var a=s("ded08"),i=s.n(a);i.a},e8bc:function(t,e,s){"use strict";var a=s("4134"),i=s.n(a);i.a},f1b2:function(t,e,s){},f6d0:function(t,e,s){},f70d:function(t,e,s){"use strict";var a=s("03d5"),i=s.n(a);i.a},f7c2:function(t,e,s){"use strict";var a=s("a509"),i=s.n(a);i.a},fe72:function(t,e,s){"use strict";var a=s("9dcf"),i=s.n(a);i.a}}]);