(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"07c6":function(t,a,e){"use strict";var s=e("565a"),o=e.n(s);o.a},1158:function(t,a,e){},2244:function(t,a,e){"use strict";var s=e("2380"),o=e.n(s);o.a},"22f0":function(t,a,e){"use strict";var s=e("b47a"),o=e.n(s);o.a},2380:function(t,a,e){},"2e01":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{staticClass:"q-pa-lg",attrs:{"style-fn":t.breadcrumbsTweak}},[e("div",{staticClass:"proposals-list"},["badge"===t.$route.params.type?e("badge-proposals-list"):t._e(),"badgeAssignment"===t.$route.params.type?e("badge-assignment-proposals-list"):t._e(),"role"===t.$route.params.type?e("role-proposals-list"):t._e(),"assignment"===t.$route.params.type?e("assignment-proposals-list"):t._e(),"payout"===t.$route.params.type?e("payout-proposals-list"):t._e()],1)])},o=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-infinite-scroll",{attrs:{disable:t.loaded,offset:250},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"row justify-center q-my-md"},[e("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},[e("div",{staticClass:"row"},[t._l(t.drafts.filter((function(t){return"badge"===t.type})),(function(a){return e("proposal-card-draft",{key:a.draft.id,attrs:{draft:a.draft,type:a.type},on:{proposed:t.refreshProposals}})})),t._l(t.proposals,(function(t){return e("proposal-card",{key:t.hash,attrs:{proposal:t}})}))],2),e("q-page-sticky",{style:{"z-index":100},attrs:{position:"right",offset:[18,0]}},[e("div",{staticClass:"flex column"},[t.isAuthenticated?e("q-btn",{staticClass:"q-mb-sm",attrs:{fab:"",icon:"fas fa-plus",color:"red",size:"lg"},on:{click:t.displayForm}},[e("q-tooltip",[t._v("Add a badge")])],1):t._e(),e("q-btn",{staticClass:"q-mb-sm",attrs:{fab:"",icon:"fas fa-sync-alt",color:"secondary",size:"lg"},on:{click:t.refreshProposals}},[e("q-tooltip",[t._v("Refresh")])],1)],1)])],1)},i=[],l=(e("e6cf"),e("ded3")),n=e.n(l),c=e("2f62"),p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"proposal column"},[e("div",{staticClass:"ribbon"},[e("span",{staticClass:"text-white creating"},[t._v("creating")])]),e("top-right-icon",{attrs:{type:"badge"}}),e("q-card-section",{staticClass:"text-center",on:{click:t.showCardFullContent}},[t.icon&&""!==t.icon?e("q-img",{staticClass:"avatar",attrs:{src:t.icon}}):e("q-avatar",{staticClass:"avatar",attrs:{size:"150px",color:"primary","text-color":"white"}},[t._v("NA")])],1),e("q-card-section",{on:{click:t.showCardFullContent}},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"sponsor"},[t._v("Sponsored by "+t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||t.proposer))])]),e("q-card-section",{staticClass:"vote-section"},[t.ballotId?e("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.proposer,hash:this.proposal.hash,"allow-details":!0},on:{"close-proposal":t.removeProposal}}):t._e()],1)],1)},d=[],u=e("5d0f"),f=e("bc31"),h=e("386c"),b={name:"badge-proposal-card",mixins:[h["a"]],props:{proposal:{type:Object,required:!0}},components:{TopRightIcon:u["a"],VoteYesNoAbstain:f["a"]},data(){return{profile:null}},methods:n()(n()(n()(n()({},Object(c["b"])("profiles",["getPublicProfile"])),Object(c["d"])("badges",["removeProposal"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{showCardFullContent(){this.setShowRightSidebar(!0),this.setRightSidebarType({type:"badgeProposalView",data:this.proposal})}}),computed:n()(n()({},Object(c["c"])("accounts",["account"])),{},{title(){return this.getValue(this.proposal,"details","title")},icon(){return this.getValue(this.proposal,"details","icon")},proposer(){return this.proposal.creator},ballotId(){return this.getValue(this.proposal,"system","ballot_id")}}),watch:{proposer:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}}}},m=b,g=(e("86c8"),e("2877")),v=e("f09f"),y=e("a370"),C=e("068f"),_=e("cb32"),q=e("eebe"),P=e.n(q),w=Object(g["a"])(m,p,d,!1,null,"6640bce9",null),S=w.exports;P()(w,"components",{QCard:v["a"],QCardSection:y["a"],QImg:C["a"],QAvatar:_["a"]});var x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"draft"},[e("div",{staticClass:"ribbon"},[e("span",{staticClass:"text-white bg-draft"},[t._v("DRAFTING")])]),t.draft.url?e("div",{staticClass:"url"},[e("q-btn",{attrs:{icon:"fas fa-bookmark",flat:"",color:"draft",unelevated:"",dense:""},on:{click:function(){return t.openUrl(t.draft.url)}}})],1):t._e(),e("top-right-icon",{attrs:{type:"badge",menu:!0}}),e("draft-menu",{attrs:{type:"badge",draft:t.draft}}),e("div",{staticClass:"flex column justify-between full-height"},[e("div",[e("q-card-section",{staticClass:"text-center cursor-pointer relative-position"},[e("q-img",{staticClass:"avatar",attrs:{src:t.draft.icon}})],1),e("q-card-section",{staticClass:"text-center"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),t.sponsor?e("div",{staticClass:"sponsor"},[t._v(t._s(t.sponsor))]):t._e()])],1),e("q-card-actions",{staticClass:"q-pa-lg flex justify-around draft-actions"},[e("q-btn",{attrs:{label:"Propose",color:"draft",rounded:"",dense:"",unelevated:"",loading:t.submitting}},[e("q-popup-proxy",[e("div",{staticClass:"confirm column q-pa-sm"},[t._v("Are you sure you want to publish this proposal? There are no more edits possible after this action."),e("div",{staticClass:"row flex justify-between q-mt-sm"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"No",dense:"",flat:""}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Yes",dense:""},on:{click:t.onSaveProposal}})],1)])])],1)],1)],1)],1)},j=[],O=e("7444"),k=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-btn",{staticClass:"card-menu",staticStyle:{width:"40px",height:"40px",margin:"4px"},attrs:{icon:"fas fa-ellipsis-v",color:"grey",flat:"",dense:"",round:"","no-caps":"",ripple:!1}},[e("q-menu",[e("q-list",{attrs:{dense:""}},[e("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:t.editDraft}},[e("q-item-section",{staticStyle:{"max-width":"20px"}},[e("q-icon",{attrs:{name:"fas fa-pencil-alt",size:"14px"}})],1),e("q-item-section",[t._v("Edit")])],1),e("q-item",{attrs:{clickable:""}},[e("q-popup-proxy",[e("div",{staticClass:"confirm column q-pa-sm"},[t._v("Are you sure you want to delete this draft?"),e("div",{staticClass:"row flex justify-between q-mt-sm"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup",value:-1,expression:"-1"}],attrs:{color:"primary",label:"No",dense:"",flat:""}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup",value:-1,expression:"-1"}],attrs:{color:"primary",label:"Yes",dense:""},on:{click:function(a){return t.deleteDraft(t.draft.id)}}})],1)])]),e("q-item-section",{staticStyle:{"max-width":"20px"}},[e("q-icon",{attrs:{name:"fas fa-trash-alt",size:"14px"}})],1),e("q-item-section",[t._v("Delete")])],1)],1)],1)],1)},D=[],Q={name:"draft-menu",props:{draft:{type:Object,required:!0},type:{type:String,required:!0}},methods:n()(n()(n()({},Object(c["b"])("profiles",["deleteDraft"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{editDraft(){this.setShowRightSidebar(!0),this.setRightSidebarType({type:this.type+"Form",data:this.draft})}})},R=Q,I=(e("d3f0"),e("9c40")),A=e("4e73"),T=e("1c1c"),B=e("66e5"),$=e("4074"),V=e("0016"),F=e("7cbe"),N=e("7f67"),z=Object(g["a"])(R,k,D,!1,null,"03b624ff",null),E=z.exports;P()(z,"components",{QBtn:I["a"],QMenu:A["a"],QList:T["a"],QItem:B["a"],QItemSection:$["a"],QIcon:V["a"],QPopupProxy:F["a"]}),P()(z,"directives",{ClosePopup:N["a"]});var L={name:"badge-proposal-card-draft",mixins:[h["a"],O["a"]],props:{draft:{type:Object,required:!0}},components:{DraftMenu:E,TopRightIcon:u["a"]},data(){return{submitting:!1}},computed:n()(n()({},Object(c["c"])("accounts",["account"])),{},{title(){return this.draft.title},sponsor(){return"Sponsored by "+(this.profile&&this.profile.publicData&&this.profile.publicData.name||this.account)},annualSalary(){return this.draft.salaryUsd}}),methods:n()(n()(n()({},Object(c["b"])("badges",["saveBadgeProposal"])),Object(c["b"])("profiles",["getPublicProfile","deleteDraft"])),{},{async onSaveProposal(){this.submitting=!0,await this.saveBadgeProposal(this.draft)&&(this.$emit("proposed"),await this.deleteDraft(this.draft.id)),this.submitting=!1}})},U=L,M=(e("33a1"),e("4b7e")),Y=Object(g["a"])(U,x,j,!1,null,"57ffb8c5",null),G=Y.exports;P()(Y,"components",{QCard:v["a"],QBtn:I["a"],QCardSection:y["a"],QImg:C["a"],QCardActions:M["a"],QPopupProxy:F["a"]}),P()(Y,"directives",{ClosePopup:N["a"]});var H={name:"badge-proposal-list",components:{ProposalCard:S,ProposalCardDraft:G},data(){return{pagination:{first:10,offset:0},loaded:!1}},computed:n()(n()(n()({},Object(c["c"])("accounts",["isAuthenticated"])),Object(c["c"])("profiles",["drafts"])),Object(c["c"])("badges",["proposals"])),async beforeMount(){this.clearProposals(),this.setBreadcrumbs([{title:"Badge proposals"}])},methods:n()(n()(n()(n()(n()({},Object(c["d"])("layout",["setBreadcrumbs"])),Object(c["d"])("badges",["clearProposals"])),Object(c["b"])("badges",["loadProposals"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{async onLoad(t,a){this.loaded=await this.loadProposals(this.pagination),this.loaded||(this.pagination.offset+=this.pagination.first),a()},displayForm(){this.setShowRightSidebar(!0),this.setRightSidebarType("badgeForm")},async refreshProposals(){this.clearProposals(),this.pagination={first:10,offset:0},this.loaded=!1}})},J=H,K=e("ef35"),W=e("8380"),X=e("de5e"),Z=e("05c0"),tt=Object(g["a"])(J,r,i,!1,null,"60395836",null),at=tt.exports;P()(tt,"components",{QInfiniteScroll:K["a"],QSpinnerDots:W["a"],QPageSticky:X["a"],QBtn:I["a"],QTooltip:Z["a"]});var et=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-infinite-scroll",{attrs:{disable:t.loaded,offset:250},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"row justify-center q-my-md"},[e("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},[e("div",{staticClass:"row"},[t._l(t.drafts.filter((function(t){return"badgeAssignment"===t.type})),(function(a){return e("proposal-card-draft",{key:a.draft.id,attrs:{draft:a.draft,type:a.type},on:{proposed:t.refreshProposals}})})),t._l(t.proposals,(function(t){return e("proposal-card",{key:t.hash,attrs:{proposal:t}})}))],2),e("q-page-sticky",{style:{"z-index":100},attrs:{position:"right",offset:[18,0]}},[e("div",{staticClass:"flex column"},[e("q-btn",{staticClass:"q-mb-sm",attrs:{fab:"",icon:"fas fa-sync-alt",color:"secondary",size:"lg"},on:{click:t.refreshProposals}},[e("q-tooltip",[t._v("Refresh")])],1)],1)])],1)},st=[],ot=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"proposal column"},[e("div",{staticClass:"ribbon"},[e("span",{staticClass:"text-white creating"},[t._v("creating")])]),e("top-right-icon",{attrs:{type:"badge"}}),e("q-card-section",{staticClass:"text-center",on:{click:t.showCardFullContent}},[t.profile&&t.profile.publicData&&t.profile.publicData.avatar?e("q-img",{staticClass:"avatar",attrs:{src:t.profile&&t.profile.publicData&&t.profile.publicData.avatar}}):t._e(),t.profile&&t.profile.publicData&&t.profile.publicData.avatar?t._e():e("q-avatar",{staticClass:"avatar",attrs:{size:"150px",color:"accent","text-color":"white"},on:{click:function(a){return t.$router.push({path:"/@"+t.assignee})}}},[t._v(t._s(t.assignee.slice(0,2).toUpperCase()))])],1),e("q-card-section",{on:{click:t.showCardFullContent}},[e("div",{staticClass:"title"},[t._v(t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||t.assignee))]),e("div",{staticClass:"assignee"},[t._v(t._s(t.title))])]),e("q-card-section",{staticClass:"vote-section"},[t.ballotId?e("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.assignee,hash:this.proposal.hash,"allow-details":!0},on:{"close-proposal":t.removeProposal}}):t._e()],1)],1)},rt=[],it={name:"badge-assignment-proposal-card",mixins:[h["a"]],props:{proposal:{type:Object,required:!0}},components:{TopRightIcon:u["a"],VoteYesNoAbstain:f["a"]},data(){return{profile:null}},methods:n()(n()(n()(n()({},Object(c["b"])("profiles",["getPublicProfile"])),Object(c["d"])("badges",["removeProposal"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{showCardFullContent(){this.setShowRightSidebar(!0),this.setRightSidebarType({type:"badgeAssignmentProposalView",data:this.proposal})}}),computed:n()(n()({},Object(c["c"])("accounts",["account"])),{},{title(){return this.getValue(this.proposal,"details","title")},assignee(){return this.getValue(this.proposal,"details","assignee")},ballotId(){return this.getValue(this.proposal,"system","ballot_id")}}),watch:{assignee:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}}}},lt=it,nt=(e("5e1ab"),Object(g["a"])(lt,ot,rt,!1,null,"0146ab49",null)),ct=nt.exports;P()(nt,"components",{QCard:v["a"],QCardSection:y["a"],QImg:C["a"],QAvatar:_["a"]});var pt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"draft"},[e("div",{staticClass:"ribbon"},[e("span",{staticClass:"text-white bg-draft"},[t._v("DRAFTING")])]),t.draft.url?e("div",{staticClass:"url"},[e("q-btn",{attrs:{icon:"fas fa-bookmark",flat:"",color:"draft",unelevated:"",dense:""},on:{click:function(){return t.openUrl(t.draft.url)}}})],1):t._e(),e("top-right-icon",{attrs:{type:"badge",menu:!0}}),e("draft-menu",{attrs:{type:"badgeAssignment",draft:t.draft}}),e("div",{staticClass:"flex column justify-between full-height"},[e("div",[e("q-card-section",{staticClass:"text-center q-pb-sm cursor-pointer relative-position",staticStyle:{height:"200px"}},[t.profile&&t.profile.publicData&&t.profile.publicData.avatar?e("q-img",{staticClass:"avatar",attrs:{src:t.profile.publicData.avatar},on:{click:function(a){return t.$router.push({path:"/@"+t.account})}}}):t._e(),t.profile&&t.profile.publicData&&t.profile.publicData.avatar?t._e():e("q-avatar",{staticClass:"avatar",attrs:{size:"150px",color:"accent","text-color":"white"},on:{click:function(a){return t.$router.push({path:"/@"+t.account})}}},[t._v(t._s(t.account.slice(0,2).toUpperCase()))])],1),e("q-card-section",[e("div",{staticClass:"assignee"},[t._v(t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||t.account))]),e("div",{staticClass:"title"},[t._v(t._s(t.title))])])],1),e("q-card-actions",{staticClass:"q-pa-lg flex justify-around draft-actions"},[e("q-btn",{attrs:{label:"Propose",color:"draft",rounded:"",dense:"",unelevated:"",loading:t.submitting}},[e("q-popup-proxy",[e("div",{staticClass:"confirm column q-pa-sm"},[t._v("Are you sure you want to publish this proposal? There are no more edits possible after this action."),e("div",{staticClass:"row flex justify-between q-mt-sm"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"No",dense:"",flat:""}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Yes",dense:""},on:{click:t.onSaveProposal}})],1)])])],1)],1)],1)],1)},dt=[],ut=e("2a19"),ft={name:"badge-assignment-proposal-card-draft",mixins:[h["a"],O["a"]],props:{draft:{type:Object,required:!0}},components:{DraftMenu:E,TopRightIcon:u["a"]},data(){return{profile:null,submitting:!1}},computed:n()(n()({},Object(c["c"])("accounts",["account"])),{},{title(){return this.draft.title}}),methods:n()(n()(n()({},Object(c["b"])("badges",["saveBadgeAssignmentProposal"])),Object(c["b"])("profiles",["getPublicProfile","deleteDraft"])),{},{async onSaveProposal(){if(!this.draft.edit&&this.draft.startPeriod&&this.draft.startPeriod.startDate&&new Date(this.draft.startPeriod.startDate).getTime()<Date.now()+6048e5)return void ut["a"].create({color:"red",message:"The proposal would start before the endorsement. Please change the start cycle.",position:"bottom",timeout:1e4,actions:[{label:"Dismiss",color:"white",handler:()=>{}}]});this.submitting=!0;const t=n()(n()({},this.draft),{},{title:this.title});await this.saveBadgeAssignmentProposal(t)&&(this.$emit("proposed"),await this.deleteDraft(this.draft.id)),this.submitting=!1}}),watch:{account:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}}}},ht=ft,bt=(e("2244"),Object(g["a"])(ht,pt,dt,!1,null,"7159c4fa",null)),mt=bt.exports;P()(bt,"components",{QCard:v["a"],QBtn:I["a"],QCardSection:y["a"],QImg:C["a"],QAvatar:_["a"],QCardActions:M["a"],QPopupProxy:F["a"]}),P()(bt,"directives",{ClosePopup:N["a"]});var gt={name:"badge-assignment-proposal-list",components:{ProposalCard:ct,ProposalCardDraft:mt},data(){return{pagination:{first:10,offset:0},loaded:!1}},computed:n()(n()(n()({},Object(c["c"])("accounts",["isAuthenticated"])),Object(c["c"])("profiles",["drafts"])),Object(c["c"])("badges",["proposals"])),async beforeMount(){this.clearProposals(),this.setBreadcrumbs([{title:"Badge Assignment proposals"}])},methods:n()(n()(n()(n()(n()({},Object(c["d"])("layout",["setBreadcrumbs"])),Object(c["d"])("badges",["clearProposals"])),Object(c["b"])("badges",["loadBadgeAssignmentProposals"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{async onLoad(t,a){this.loaded=await this.loadBadgeAssignmentProposals(this.pagination),this.loaded||(this.pagination.offset+=this.pagination.first),a()},async refreshProposals(){this.clearProposals(),this.pagination={first:10,offset:0},this.loaded=!1}})},vt=gt,yt=Object(g["a"])(vt,et,st,!1,null,"d270ed66",null),Ct=yt.exports;P()(yt,"components",{QInfiniteScroll:K["a"],QSpinnerDots:W["a"],QPageSticky:X["a"],QBtn:I["a"],QTooltip:Z["a"]});var _t=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-infinite-scroll",{attrs:{disable:t.loaded,offset:250},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"row justify-center q-my-md"},[e("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},[e("div",{staticClass:"row"},[t._l(t.drafts.filter((function(t){return"role"===t.type})),(function(a){return e("proposal-card-draft",{key:a.draft.id,attrs:{draft:a.draft},on:{proposed:t.refreshProposals}})})),t._l(t.proposals,(function(t){return e("proposal-card",{key:t.hash,attrs:{proposal:t}})}))],2),e("q-page-sticky",{style:{"z-index":100},attrs:{position:"right",offset:[18,0]}},[e("div",{staticClass:"flex column"},[t.isAuthenticated?e("q-btn",{staticClass:"q-mb-sm",attrs:{fab:"",icon:"fas fa-plus",color:"red",size:"lg"},on:{click:t.displayForm}},[e("q-tooltip",[t._v("Add a role")])],1):t._e(),e("q-btn",{staticClass:"q-mb-sm",attrs:{fab:"",icon:"fas fa-sync-alt",color:"secondary",size:"lg"},on:{click:t.refreshProposals}},[e("q-tooltip",[t._v("Refresh")])],1)],1)])],1)},qt=[],Pt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"proposal column"},[e("div",{staticClass:"ribbon"},[e("span",{staticClass:"text-white creating"},[t._v("creating")])]),t.url&&"null"!==t.url?e("div",{staticClass:"url"},[e("q-btn",{attrs:{icon:"fas fa-bookmark",flat:"",color:"proposal",unelevated:"",dense:""},on:{click:function(){return t.openUrl(t.url)}}})],1):t._e(),e("top-right-icon",{attrs:{type:"role"}}),e("q-card-section",{staticClass:"text-center relative-position",on:{click:t.showCardFullContent}},[t.avatarSrc?e("q-img",{staticClass:"avatar",style:"background: "+t.avatarColor,attrs:{src:t.avatarSrc}}):t._e(),t.annualSalary?e("div",{staticClass:"salary-bucket bg-proposal"},[t._v(t._s(t.getSalaryBucket(parseInt(t.annualSalary))))]):t._e()],1),e("q-card-section",{staticClass:"middle-section",on:{click:t.showCardFullContent}},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"sponsor"},[t._v("Sponsored by "+t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||t.proposer))])]),e("q-card-section",{staticClass:"vote-section"},[t.ballotId?e("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.proposer,hash:this.proposal.hash,"allow-details":!0},on:{"close-proposal":t.removeProposal}}):t._e()],1)],1)},wt=[],St=e("e6a7"),xt={name:"role-proposal-card",mixins:[h["a"],O["a"],St["a"]],props:{proposal:{type:Object,required:!0}},components:{TopRightIcon:u["a"],VoteYesNoAbstain:f["a"]},data(){return{profile:null,avatarSrc:null,avatarColor:null}},methods:n()(n()(n()(n()({},Object(c["b"])("profiles",["getPublicProfile"])),Object(c["d"])("roles",["removeProposal"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{showCardFullContent(){this.setShowRightSidebar(!0),this.setRightSidebarType({type:"roleProposalView",data:this.proposal})}}),computed:n()(n()({},Object(c["c"])("accounts",["account"])),{},{title(){return this.getValue(this.proposal,"details","title")},url(){return this.getValue(this.proposal,"details","url")},annualSalary(){return this.getValue(this.proposal,"details","annual_usd_salary")},proposer(){return this.getValue(this.proposal.ownedby[0],"system","node_label")},ballotId(){return this.getValue(this.proposal,"system","ballot_id")}}),watch:{proposer:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}},title:{immediate:!0,async handler(t){if(t){this.titleHash=await this.toSHA256(t);const{image:a,color:e}=await this.getAdorableImage(this.titleHash);this.avatarSrc=a,this.avatarColor=e}}}}},jt=xt,Ot=(e("22f0"),Object(g["a"])(jt,Pt,wt,!1,null,"76487f42",null)),kt=Ot.exports;P()(Ot,"components",{QCard:v["a"],QBtn:I["a"],QCardSection:y["a"],QImg:C["a"]});var Dt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"draft"},[e("div",{staticClass:"ribbon"},[e("span",{staticClass:"text-white bg-draft"},[t._v("DRAFTING")])]),t.draft.url?e("div",{staticClass:"url"},[e("q-btn",{attrs:{icon:"fas fa-bookmark",flat:"",color:"draft",unelevated:"",dense:""},on:{click:function(){return t.openUrl(t.draft.url)}}})],1):t._e(),e("top-right-icon",{attrs:{type:"role",menu:!0}}),e("draft-menu",{attrs:{type:"role",draft:t.draft}}),e("div",{staticClass:"flex column justify-between full-height"},[e("div",[e("q-card-section",{staticClass:"text-center cursor-pointer relative-position"},[e("q-img",{staticClass:"avatar",style:"background: "+this.avatarColor,attrs:{src:this.avatarSrc}}),t.annualSalary?e("div",{staticClass:"salary-bucket bg-proposal"},[t._v(t._s(t.getSalaryBucket(parseInt(t.annualSalary))))]):t._e()],1),e("q-card-section",{staticClass:"text-center"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),t.sponsor?e("div",{staticClass:"sponsor"},[t._v(t._s(t.sponsor))]):t._e()])],1),e("q-card-actions",{staticClass:"q-pa-lg flex justify-around draft-actions"},[e("q-btn",{attrs:{label:"Propose",color:"draft",rounded:"",dense:"",unelevated:"",loading:t.submitting}},[e("q-popup-proxy",[e("div",{staticClass:"confirm column q-pa-sm"},[t._v("Are you sure you want to publish this proposal? There are no more edits possible after this action."),e("div",{staticClass:"row flex justify-between q-mt-sm"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"No",dense:"",flat:""}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Yes",dense:""},on:{click:t.onSaveProposal}})],1)])])],1)],1)],1)],1)},Qt=[],Rt={name:"role-proposal-card-draft",mixins:[h["a"],O["a"],St["a"]],props:{draft:{type:Object,required:!0}},components:{DraftMenu:E,TopRightIcon:u["a"]},data(){return{avatarSrc:null,avatarColor:null,submitting:!1}},computed:n()(n()({},Object(c["c"])("accounts",["account"])),{},{title(){return this.draft.title},sponsor(){return"Sponsored by "+(this.profile&&this.profile.publicData&&this.profile.publicData.name||this.account)},annualSalary(){return this.draft.salaryUsd}}),methods:n()(n()(n()({},Object(c["b"])("roles",["saveRoleProposal"])),Object(c["b"])("profiles",["getPublicProfile","deleteDraft"])),{},{async onSaveProposal(){this.submitting=!0,await this.saveRoleProposal(this.draft)&&(this.$emit("proposed"),await this.deleteDraft(this.draft.id)),this.submitting=!1}}),watch:{title:{immediate:!0,async handler(t){const a=await this.toSHA256(t),{image:e,color:s}=await this.getAdorableImage(a);this.avatarSrc=e,this.avatarColor=s}}}},It=Rt,At=(e("3ea2"),Object(g["a"])(It,Dt,Qt,!1,null,"4faa363e",null)),Tt=At.exports;P()(At,"components",{QCard:v["a"],QBtn:I["a"],QCardSection:y["a"],QImg:C["a"],QCardActions:M["a"],QPopupProxy:F["a"]}),P()(At,"directives",{ClosePopup:N["a"]});var Bt={name:"role-proposal-list",components:{ProposalCard:kt,ProposalCardDraft:Tt},data(){return{pagination:{first:10,offset:0},loaded:!1}},computed:n()(n()(n()({},Object(c["c"])("accounts",["isAuthenticated"])),Object(c["c"])("profiles",["drafts"])),Object(c["c"])("roles",["proposals"])),async beforeMount(){this.clearProposals(),this.setBreadcrumbs([{title:"Roles proposals"}])},methods:n()(n()(n()(n()(n()({},Object(c["d"])("layout",["setBreadcrumbs"])),Object(c["d"])("roles",["clearProposals"])),Object(c["b"])("roles",["loadProposals"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{async onLoad(t,a){this.loaded=await this.loadProposals(this.pagination),this.loaded||(this.pagination.offset+=this.pagination.first),a()},displayForm(){this.setShowRightSidebar(!0),this.setRightSidebarType("roleForm")},async refreshProposals(){this.clearProposals(),this.pagination={first:10,offset:0},this.loaded=!1}})},$t=Bt,Vt=Object(g["a"])($t,_t,qt,!1,null,null,null),Ft=Vt.exports;P()(Vt,"components",{QInfiniteScroll:K["a"],QSpinnerDots:W["a"],QPageSticky:X["a"],QBtn:I["a"],QTooltip:Z["a"]});var Nt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-infinite-scroll",{attrs:{disable:t.loaded,offset:250},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"row justify-center q-my-md"},[e("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},[e("div",{staticClass:"row"},[t._l(t.drafts.filter((function(t){return"assignment"===t.type})),(function(a){return e("proposal-card-draft",{key:a.draft.id,attrs:{draft:a.draft},on:{proposed:t.refreshProposals}})})),t._l(t.proposals,(function(t){return e("proposal-card",{key:t.hash,attrs:{proposal:t}})}))],2),e("q-page-sticky",{style:{"z-index":100},attrs:{position:"right",offset:[18,0]}},[e("div",{staticClass:"flex column"},[e("q-btn",{staticClass:"q-mb-sm",attrs:{fab:"",icon:"fas fa-sync-alt",color:"secondary",size:"lg"},on:{click:t.refreshProposals}},[e("q-tooltip",[t._v("Refresh")])],1)],1)])],1)},zt=[],Et=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"proposal column"},[e("div",{staticClass:"ribbon"},[e("span",{staticClass:"text-white creating"},[t._v("creating")])]),t.url&&"null"!==t.url?e("div",{staticClass:"url"},[e("q-btn",{attrs:{icon:"fas fa-bookmark",flat:"",color:"proposal",unelevated:"",dense:""},on:{click:function(){return t.openUrl(t.url)}}})],1):t._e(),e("top-right-icon",{attrs:{type:"assignment"}}),e("q-card-section",{staticClass:"text-center",on:{click:t.showCardFullContent}},[t.profile&&t.profile.publicData&&t.profile.publicData.avatar?e("q-img",{staticClass:"avatar",attrs:{src:t.profile.publicData.avatar},on:{click:function(a){return t.$router.push({path:"/@"+t.assignee})}}}):t._e(),t.profile&&t.profile.publicData&&t.profile.publicData.avatar?t._e():e("q-avatar",{staticClass:"avatar",attrs:{size:"150px",color:"accent","text-color":"white"},on:{click:function(a){return t.$router.push({path:"/@"+t.assignee})}}},[t._v(t._s(t.assignee.slice(0,2).toUpperCase()))]),t.annualSalary?e("div",{staticClass:"salary-bucket bg-proposal"},[t._v(t._s(t.getSalaryBucket(parseInt(t.annualSalary))))]):t._e()],1),e("q-card-section",{on:{click:t.showCardFullContent}},[e("div",{staticClass:"assignee"},[t._v(t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||t.assignee))]),e("div",{staticClass:"title"},[t._v(t._s(t.title))])]),e("q-card-section",{staticClass:"vote-section"},[t.ballotId?e("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.assignee,hash:this.proposal.hash,"allow-details":!0},on:{"close-proposal":t.removeProposal}}):t._e()],1)],1)},Lt=[],Ut={name:"assignment-proposal-card",mixins:[h["a"],O["a"]],props:{proposal:{type:Object,required:!0}},components:{TopRightIcon:u["a"],VoteYesNoAbstain:f["a"]},data(){return{profile:null,role:null}},methods:n()(n()(n()(n()(n()({},Object(c["b"])("profiles",["getPublicProfile"])),Object(c["d"])("assignments",["removeProposal"])),Object(c["b"])("roles",["loadRole"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{showCardFullContent(){this.setShowRightSidebar(!0),this.setRightSidebarType({type:"assignmentProposalView",data:this.proposal})}}),computed:n()(n()({},Object(c["c"])("accounts",["account"])),{},{title(){return this.getValue(this.proposal,"details","title")},url(){return this.getValue(this.proposal,"details","url")},assignee(){return this.getValue(this.proposal,"details","assignee")},roleId(){return this.getValue(this.proposal,"details","role")},ballotId(){return this.getValue(this.proposal,"system","ballot_id")},annualSalary(){return this.role&&this.getValue(this.role,"details","annual_usd_salary")}}),watch:{assignee:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}},roleId:{immediate:!0,async handler(t){this.role=t&&await this.loadRole(t)}}}},Mt=Ut,Yt=(e("ea3d"),Object(g["a"])(Mt,Et,Lt,!1,null,"5af30f0e",null)),Gt=Yt.exports;P()(Yt,"components",{QCard:v["a"],QBtn:I["a"],QCardSection:y["a"],QImg:C["a"],QAvatar:_["a"]});var Ht=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"draft"},[e("div",{staticClass:"ribbon"},[e("span",{staticClass:"text-white bg-draft"},[t._v("DRAFTING")])]),t.draft.url?e("div",{staticClass:"url"},[e("q-btn",{attrs:{icon:"fas fa-bookmark",flat:"",color:"draft",unelevated:"",dense:""},on:{click:function(){return t.openUrl(t.draft.url)}}})],1):t._e(),e("top-right-icon",{attrs:{type:"assignment",menu:!0}}),e("draft-menu",{attrs:{type:"assignment",draft:t.draft}}),e("div",{staticClass:"flex column justify-between full-height"},[e("div",[e("q-card-section",{staticClass:"text-center q-pb-sm cursor-pointer relative-position",staticStyle:{height:"200px"}},[t.profile&&t.profile.publicData&&t.profile.publicData.avatar?e("q-img",{staticClass:"avatar",attrs:{src:t.profile.publicData.avatar},on:{click:function(a){return t.$router.push({path:"/@"+t.account})}}}):t._e(),t.profile&&t.profile.publicData&&t.profile.publicData.avatar?t._e():e("q-avatar",{staticClass:"avatar",attrs:{size:"150px",color:"accent","text-color":"white"},on:{click:function(a){return t.$router.push({path:"/@"+t.account})}}},[t._v(t._s(t.account.slice(0,2).toUpperCase()))]),t.annualSalary?e("div",{staticClass:"salary-bucket bg-proposal"},[t._v(t._s(t.getSalaryBucket(parseInt(t.annualSalary))))]):t._e()],1),e("q-card-section",[e("div",{staticClass:"assignee"},[t._v(t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||t.account))]),e("div",{staticClass:"title"},[t._v(t._s(t.title))])])],1),e("q-card-actions",{staticClass:"q-pa-lg flex justify-around draft-actions"},[e("q-btn",{attrs:{label:"Propose",color:"draft",rounded:"",dense:"",unelevated:"",loading:t.submitting}},[e("q-popup-proxy",[e("div",{staticClass:"confirm column q-pa-sm"},[t._v("Are you sure you want to publish this proposal? There are no more edits possible after this action."),e("div",{staticClass:"row flex justify-between q-mt-sm"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"No",dense:"",flat:""}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Yes",dense:""},on:{click:t.onSaveProposal}})],1)])])],1)],1)],1)],1)},Jt=[],Kt={name:"assignment-proposal-card-draft",mixins:[h["a"],O["a"]],props:{draft:{type:Object,required:!0}},components:{DraftMenu:E,TopRightIcon:u["a"]},data(){return{profile:null,submitting:!1}},computed:n()(n()({},Object(c["c"])("accounts",["account"])),{},{title(){return this.getValue(this.draft.role,"details","title")},annualSalary(){return this.getValue(this.draft.role,"details","annual_usd_salary")}}),methods:n()(n()(n()({},Object(c["b"])("assignments",["saveAssignmentProposal"])),Object(c["b"])("profiles",["getPublicProfile","deleteDraft"])),{},{async onSaveProposal(){if(!this.draft.edit&&this.draft.startPeriod&&this.draft.startPeriod.startDate&&new Date(this.draft.startPeriod.startDate).getTime()<Date.now()+6048e5)return void ut["a"].create({color:"red",message:"The proposal would start before the endorsement. Please change the start cycle.",position:"bottom",timeout:1e4,actions:[{label:"Dismiss",color:"white",handler:()=>{}}]});this.submitting=!0;const t=n()(n()({},this.draft),{},{title:this.title});await this.saveAssignmentProposal(t)&&(this.$emit("proposed"),await this.deleteDraft(this.draft.id)),this.submitting=!1}}),watch:{account:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}}}},Wt=Kt,Xt=(e("9ae9"),Object(g["a"])(Wt,Ht,Jt,!1,null,"a079aa6a",null)),Zt=Xt.exports;P()(Xt,"components",{QCard:v["a"],QBtn:I["a"],QCardSection:y["a"],QImg:C["a"],QAvatar:_["a"],QCardActions:M["a"],QPopupProxy:F["a"]}),P()(Xt,"directives",{ClosePopup:N["a"]});var ta={name:"assignment-proposal-list",components:{ProposalCard:Gt,ProposalCardDraft:Zt},data(){return{pagination:{first:10,offset:0},loaded:!1}},computed:n()(n()(n()({},Object(c["c"])("accounts",["isAuthenticated"])),Object(c["c"])("profiles",["drafts"])),Object(c["c"])("assignments",["proposals"])),async beforeMount(){this.clearProposals(),this.setBreadcrumbs([{title:"Assignments proposals"}])},methods:n()(n()(n()(n()(n()({},Object(c["d"])("layout",["setBreadcrumbs"])),Object(c["d"])("assignments",["clearProposals"])),Object(c["b"])("assignments",["loadProposals"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{async onLoad(t,a){this.loaded=await this.loadProposals(this.pagination),this.loaded||(this.pagination.offset+=this.pagination.first),a()},async refreshProposals(){this.clearProposals(),this.pagination={first:10,offset:0},this.loaded=!1}})},aa=ta,ea=Object(g["a"])(aa,Nt,zt,!1,null,null,null),sa=ea.exports;P()(ea,"components",{QInfiniteScroll:K["a"],QSpinnerDots:W["a"],QPageSticky:X["a"],QBtn:I["a"],QTooltip:Z["a"]});var oa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-infinite-scroll",{attrs:{disable:t.loaded,offset:250},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"row justify-center q-my-md"},[e("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},[e("div",{staticClass:"row"},[t._l(t.drafts.filter((function(t){return"payout"===t.type})),(function(a){return e("proposal-card-draft",{key:a.draft.id,attrs:{draft:a.draft},on:{proposed:t.refreshProposals}})})),t._l(t.proposals,(function(t){return e("proposal-card",{key:t.hash,attrs:{proposal:t}})}))],2),e("q-page-sticky",{style:{"z-index":100},attrs:{position:"right",offset:[18,0]}},[e("div",{staticClass:"flex column"},[t.isAuthenticated?e("q-btn",{staticClass:"q-mb-sm",attrs:{fab:"",icon:"fas fa-plus",color:"red",size:"lg"},on:{click:t.displayForm}},[e("q-tooltip",[t._v("Add a contribution")])],1):t._e(),e("q-btn",{staticClass:"q-mb-sm",attrs:{fab:"",icon:"fas fa-sync-alt",color:"secondary",size:"lg"},on:{click:t.refreshProposals}},[e("q-tooltip",[t._v("Refresh")])],1),e("q-btn",{staticClass:"q-mb-sm",attrs:{fab:"",icon:"fas fa-history",color:"secondary",size:"lg",to:"/documents/payout"}},[e("q-tooltip",[t._v("History")])],1)],1)])],1)},ra=[],ia=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"proposal column"},[e("div",{staticClass:"ribbon"},[e("span",{staticClass:"text-white creating"},[t._v("creating")])]),t.url&&"null"!==t.url?e("div",{staticClass:"url"},[e("q-btn",{attrs:{icon:"fas fa-bookmark",flat:"",color:"proposal",unelevated:"",dense:""},on:{click:function(){return t.openUrl(t.url)}}})],1):t._e(),e("top-right-icon",{attrs:{type:"payout"}}),e("q-card-section",{staticClass:"text-center",on:{click:t.showCardFullContent}},[t.profile&&t.profile.publicData&&t.profile.publicData.avatar?e("q-img",{staticClass:"avatar",attrs:{src:t.profile.publicData.avatar},on:{click:function(a){return t.$router.push({path:"/@"+t.recipient})}}}):t._e(),t.profile&&t.profile.publicData&&t.profile.publicData.avatar?t._e():e("q-avatar",{staticClass:"avatar",attrs:{size:"150px",color:"accent","text-color":"white"},on:{click:function(a){return t.$router.push({path:"/@"+t.recipient})}}},[t._v(t._s(t.recipient.slice(0,2).toUpperCase()))])],1),e("q-card-section",{on:{click:t.showCardFullContent}},[e("div",{staticClass:"recipient"},[t._v(t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||t.recipient))]),e("div",{staticClass:"title"},[t._v(t._s(t.title))])]),e("q-card-section",{staticClass:"vote-section"},[t.ballotId?e("vote-yes-no-abstain",{attrs:{ballotId:t.ballotId,proposer:t.recipient,hash:this.proposal.hash,"allow-details":!0},on:{"close-proposal":t.removeProposal}}):t._e()],1)],1)},la=[],na={name:"payout-proposal-card",mixins:[h["a"]],props:{proposal:{type:Object,required:!0}},components:{TopRightIcon:u["a"],VoteYesNoAbstain:f["a"]},data(){return{profile:null}},methods:n()(n()(n()(n()({},Object(c["b"])("profiles",["getPublicProfile"])),Object(c["d"])("payouts",["removeProposal"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{showCardFullContent(){this.setShowRightSidebar(!0),this.setRightSidebarType({type:"payoutProposalView",data:this.proposal})}}),computed:n()(n()({},Object(c["c"])("accounts",["account"])),{},{title(){return this.getValue(this.proposal,"details","title")},url(){return this.getValue(this.proposal,"details","url")},recipient(){return this.getValue(this.proposal,"details","recipient")},ballotId(){return this.getValue(this.proposal,"system","ballot_id")}}),watch:{recipient:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}}}},ca=na,pa=(e("7a26"),Object(g["a"])(ca,ia,la,!1,null,"6ae3175e",null)),da=pa.exports;P()(pa,"components",{QCard:v["a"],QBtn:I["a"],QCardSection:y["a"],QImg:C["a"],QAvatar:_["a"]});var ua=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",{staticClass:"draft"},[e("div",{staticClass:"ribbon"},[e("span",{staticClass:"text-white bg-draft"},[t._v("DRAFTING")])]),t.draft.url?e("div",{staticClass:"url"},[e("q-btn",{attrs:{icon:"fas fa-bookmark",flat:"",color:"draft",unelevated:"",dense:""},on:{click:function(){return t.openUrl(t.draft.url)}}})],1):t._e(),e("top-right-icon",{attrs:{type:"payout",menu:!0}}),e("draft-menu",{attrs:{type:"payout",draft:t.draft}}),e("div",{staticClass:"flex column justify-between full-height"},[e("div",[e("q-card-section",{staticClass:"text-center cursor-pointer relative-position"},[t.profile&&t.profile.publicData&&t.profile.publicData.avatar?e("q-img",{staticClass:"avatar",attrs:{src:t.profile.publicData.avatar},on:{click:function(a){return t.$router.push({path:"/@"+t.account})}}}):t._e(),t.profile&&t.profile.publicData&&t.profile.publicData.avatar?t._e():e("q-avatar",{staticClass:"avatar",attrs:{size:"150px",color:"accent","text-color":"white"},on:{click:function(a){return t.$router.push({path:"/@"+t.account})}}},[t._v(t._s(t.account.slice(0,2).toUpperCase()))])],1),e("q-card-section",[e("div",{staticClass:"recipient"},[t._v(t._s(t.profile&&t.profile.publicData&&t.profile.publicData.name||t.account))]),e("div",{staticClass:"title"},[t._v(t._s(t.title))])])],1),e("q-card-actions",{staticClass:"q-pa-lg flex justify-around draft-actions"},[e("q-btn",{attrs:{label:"Propose",color:"draft",rounded:"",dense:"",unelevated:"",loading:t.submitting}},[e("q-popup-proxy",[e("div",{staticClass:"confirm column q-pa-sm"},[t._v("Are you sure you want to publish this proposal? There are no more edits possible after this action."),e("div",{staticClass:"row flex justify-between q-mt-sm"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"No",dense:"",flat:""}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Yes",dense:""},on:{click:t.onSaveProposal}})],1)])])],1)],1)],1)],1)},fa=[],ha={name:"payout-proposal-card-draft",mixins:[h["a"],O["a"]],props:{draft:{type:Object,required:!0}},components:{DraftMenu:E,TopRightIcon:u["a"]},data(){return{profile:null,submitting:!1}},computed:n()(n()({},Object(c["c"])("accounts",["account"])),{},{title(){return this.draft.title}}),methods:n()(n()(n()({},Object(c["b"])("payouts",["savePayoutProposal"])),Object(c["b"])("profiles",["getPublicProfile","deleteDraft"])),{},{async onSaveProposal(){this.submitting=!0,await this.savePayoutProposal(this.draft)&&(this.$emit("proposed"),await this.deleteDraft(this.draft.id)),this.submitting=!1}}),watch:{account:{immediate:!0,async handler(t){this.profile=t&&await this.getPublicProfile(t)}}}},ba=ha,ma=(e("07c6"),Object(g["a"])(ba,ua,fa,!1,null,"cdbf651e",null)),ga=ma.exports;P()(ma,"components",{QCard:v["a"],QBtn:I["a"],QCardSection:y["a"],QImg:C["a"],QAvatar:_["a"],QCardActions:M["a"],QPopupProxy:F["a"]}),P()(ma,"directives",{ClosePopup:N["a"]});var va={name:"payout-proposal-list",components:{ProposalCard:da,ProposalCardDraft:ga},data(){return{pagination:{first:10,offset:0},loaded:!1}},computed:n()(n()(n()({},Object(c["c"])("accounts",["isAuthenticated"])),Object(c["c"])("profiles",["drafts"])),Object(c["c"])("payouts",["proposals"])),async beforeMount(){this.clearProposals(),this.setBreadcrumbs([{title:"Contributions proposals"}])},methods:n()(n()(n()(n()(n()({},Object(c["d"])("layout",["setBreadcrumbs"])),Object(c["b"])("payouts",["loadProposals"])),Object(c["d"])("payouts",["clearProposals"])),Object(c["d"])("layout",["setShowRightSidebar","setRightSidebarType"])),{},{async onLoad(t,a){this.loaded=await this.loadProposals(this.pagination),this.loaded||(this.pagination.offset+=this.pagination.first),a()},displayForm(){this.setShowRightSidebar(!0),this.setRightSidebarType("payoutForm")},async refreshProposals(){this.clearProposals(),this.pagination={first:10,offset:0},this.loaded=!1}})},ya=va,Ca=Object(g["a"])(ya,oa,ra,!1,null,"cecfd9dc",null),_a=Ca.exports;P()(Ca,"components",{QInfiniteScroll:K["a"],QSpinnerDots:W["a"],QPageSticky:X["a"],QBtn:I["a"],QTooltip:Z["a"]});var qa={name:"list",components:{BadgeProposalsList:at,BadgeAssignmentProposalsList:Ct,RoleProposalsList:Ft,AssignmentProposalsList:sa,PayoutProposalsList:_a}},Pa=qa,wa=e("9989"),Sa=Object(g["a"])(Pa,s,o,!1,null,null,null);a["default"]=Sa.exports;P()(Sa,"components",{QPage:wa["a"]})},"33a1":function(t,a,e){"use strict";var s=e("8d77"),o=e.n(s);o.a},"3ea2":function(t,a,e){"use strict";var s=e("48d1"),o=e.n(s);o.a},"48d1":function(t,a,e){},"54ca":function(t,a,e){},"565a":function(t,a,e){},"5a80":function(t,a,e){},"5e1ab":function(t,a,e){"use strict";var s=e("54ca"),o=e.n(s);o.a},6880:function(t,a,e){},"7a26":function(t,a,e){"use strict";var s=e("5a80"),o=e.n(s);o.a},"86c8":function(t,a,e){"use strict";var s=e("6880"),o=e.n(s);o.a},"8d77":function(t,a,e){},"9ae9":function(t,a,e){"use strict";var s=e("1158"),o=e.n(s);o.a},a82f:function(t,a,e){},a887:function(t,a,e){},b47a:function(t,a,e){},d3f0:function(t,a,e){"use strict";var s=e("a82f"),o=e.n(s);o.a},ea3d:function(t,a,e){"use strict";var s=e("a887"),o=e.n(s);o.a}}]);