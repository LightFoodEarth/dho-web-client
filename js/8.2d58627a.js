(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"2f45":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"q-pa-md"},[a("div",{staticClass:"row flex items-center justify-between q-pa-sm bg-white search-form"},[a("q-input",{ref:"scope",staticStyle:{width:"300px"},attrs:{label:"Object type",placeholder:"Ex: proposal, assignment, role, ...",rules:[e.rules.required],"lazy-rules":""},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}}),a("q-input",{ref:"id",attrs:{label:"Object id",type:"number",rules:[e.rules.required],"lazy-rules":""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}}),a("q-btn",{attrs:{label:"Search",icon:"fas fa-search",color:"primary",loading:e.loading},on:{click:e.onSearch}})],1),!e.loading&&e.object?a("key-value-display",{attrs:{object:e.object,scope:e.form.scope,id:parseInt(e.form.id)}}):e._e(),e.loading?a("div",{staticClass:"flex flex-center"},[a("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1):e._e()],1)},i=[],o=(a("e6cf"),a("ded3")),n=a.n(o),r=a("2f62"),l=a("9008"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-table",{attrs:{title:"Object content",data:e.keyValues,columns:e.columns,"row-key":"key",pagination:e.initialPagination},on:{"update:pagination":function(t){e.initialPagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("div",{staticClass:"text-h6"},[e._v("Object Content")]),a("q-btn",{attrs:{icon:"fas fa-link",flat:"",size:"sm",color:"primary"},on:{click:e.onCopyToClipboard}})]},proxy:!0},{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-th",{attrs:{"auto-width":""}}),a("q-th",[e._v("Key")]),a("q-th",[e._v("Value")])],1)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[t.row.value.length>=150?a("q-btn",{attrs:{size:"sm",color:"accent",round:"",dense:"",icon:t.expand?"remove":"add"},on:{click:function(e){t.expand=!t.expand}}}):e._e()],1),a("q-td",[e._v(e._s(t.row.key))]),a("q-td",[e._v(e._s(t.row.value&&(""+t.row.value).slice(0,150))),t.row.value.length>=150?a("span",[e._v("...")]):e._e()])],1),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[a("q-td",{attrs:{colspan:"100%"}},[a("div",{staticClass:"details"},[e._v(e._s(t.row.value))])])],1)]}}])})},d=[],u=(a("ddb0"),a("6cf7")),p={name:"key-value-display",props:{object:{type:Object},scope:{type:String},id:{type:Number}},data(){return{excludedFields:["trxs","floats"],initialPagination:{sortBy:"key",descending:!1,page:1,rowsPerPage:20},columns:[{name:"key",required:!0,label:"Key",align:"left",field:e=>e.key,sortable:!0},{name:"value",required:!0,label:"Value",align:"left",field:e=>e.value,sortable:!0}],keyValues:[]}},computed:n()({},Object(r["c"])("periods",["periods"])),methods:{onCopyToClipboard(){Object(u["a"])(`${window.location.origin}/#/raw/${this.scope}/${this.id}`)}},watch:{object:{immediate:!0,handler(e){for(const t of Object.keys(e))if(Array.isArray(e[t]))for(const a of e[t])this.keyValues.push({key:`${t}.${a.key}`,value:JSON.stringify(a.value)});else this.keyValues.push({key:t,value:e[t]});this.keyValues=this.keyValues.filter((e=>!this.excludedFields.some((t=>e.key.includes(t))))),this.keyValues=this.keyValues.map((e=>{if(e.key.includes("x100"))e.value=e.value+"%";else if(e.key.includes("start_period")){const t=this.periods.find((t=>t.period_id===parseInt(e.value)));t&&(e.value=t.start_date)}else if(e.key.includes("end_period")){const t=this.periods.find((t=>t.period_id===parseInt(e.value)));t&&(e.value=t.end_date)}return e}))}}}},f=p,y=(a("8863"),a("2877")),h=a("eaac"),m=a("9c40"),b=a("bd08"),v=a("357e"),k=a("db86"),w=a("eebe"),g=a.n(w),j=Object(y["a"])(f,c,d,!1,null,"53c2b7a4",null),_=j.exports;g()(j,"components",{QTable:h["a"],QBtn:m["a"],QTr:b["a"],QTh:v["a"],QTd:k["a"]});var q={name:"page-raw-data-view",components:{KeyValueDisplay:_},mixins:[l["a"]],comments:{KeyValueDisplay:_},data(){return{form:{scope:null,id:null},loading:!1,object:null}},async beforeMount(){const e=this.$router.currentRoute.params.scope,t=this.$router.currentRoute.params.id;this.form.scope=e,this.form.id=t,e&&t&&await this.onGetObjectByScopeAndId(this.form)},methods:n()(n()({},Object(r["b"])("objects",["getObjectByScopeAndId"])),{},{async onSearch(){await this.resetValidation(this.form),await this.validate(this.form)&&await this.onGetObjectByScopeAndId(this.form)},async onGetObjectByScopeAndId({scope:e,id:t}){this.loading=!0,this.object=await this.getObjectByScopeAndId({scope:e,id:t}),this.loading=!1}})},x=q,O=(a("4345"),a("9989")),S=a("27f9"),V=a("8380"),$=Object(y["a"])(x,s,i,!1,null,"2e46967e",null);t["default"]=$.exports;g()($,"components",{QPage:O["a"],QInput:S["a"],QBtn:m["a"],QSpinnerDots:V["a"]})},4345:function(e,t,a){"use strict";var s=a("71f1"),i=a.n(s);i.a},"71f1":function(e,t,a){},8863:function(e,t,a){"use strict";var s=a("e6c5"),i=a.n(s);i.a},e6c5:function(e,t,a){}}]);